\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{milsymb}[2017/11/09 Dev]
\RequirePackage{tikz}
\RequirePackage[T1]{fontenc}
\RequirePackage{fix-cm}
\RequirePackage{arevmath}
\RequirePackage{marvosym}
\RequirePackage{acronym}
\RequirePackage{amssymb}
\RequirePackage{xifthen}
\RequirePackage{xparse}
\definecolor{friendlyA}{RGB}{128, 224, 255}
\definecolor{hostileA}{RGB}{255, 128, 128}
\definecolor{neutralA}{RGB}{170, 255, 170}
\definecolor{unknownA}{RGB}{255, 255, 128}
\definecolor{lightgray}{gray}{0.75}
\usetikzlibrary{arrows.meta, shapes.geometric, shapes.symbols, positioning, calc}
\tikzstyle{reverseclip}=[insert path={(current bounding box.north east) --
  (current bounding box.south east) --
  (current bounding box.south west) --
  (current bounding box.north west) --
  (current bounding box.north east)}
]
\tikzset{
%% FRAMES %%
% AIR %
NATOSymb air/none/.pic={
\path (0.5, 0.5) rectangle (-0.5, -0.5);
\draw[lightgray, dashed] (0:0.5) -- (45:0.5) -- (90:0.5) -- (135:0.5) -- (180:0.5) -- (225:0.5) -- (270:0.5) -- (315:0.5) -- cycle; %DEBUG - symbol template
\begin{scope}
\clip (0:0.5) -- (45:0.5) -- (90:0.5) -- (135:0.5) -- (180:0.5) -- (225:0.5) -- (270:0.5) -- (315:0.5) -- cycle;
	\draw[lightgray, dashed] (0.5, 0.2) -- (-0.5, 0.2);
	\draw[lightgray, dashed] (0.5, -0.2) -- (-0.5, -0.2);
\end{scope}},
NATOSymb air/missile/.pic={
\pic[rotate=90]{NATOSymb air/none};},
NATOSymb air/friendly/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (-0.555, -0.5) arc (180:0:0.555 and 1.37);},
NATOSymb air/hostile/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0.5, -0.5) -- (0.5, 0.21) -- (0, 0.71) --  (-0.5, 0.21) --  (-0.5, -0.5);},
NATOSymb air/neutral/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0.5, -0.5) -- (0.5, 0.5) -- (-0.5, 0.5) -- (-0.5, -0.5);},
NATOSymb air/unknown/.pic={
\path [use as bounding box] (-0.705,-0.355) -- (-0.705, 0.705) -- (0.705, 0.705) -- (0.705, -0.355) -- cycle;
\draw [fill=NATOSymb@fill, \NATOSymb@line] (315:0.5) to[out=0, in=0, looseness=1.7] (45:0.5) to[out=90,in=90,looseness=1.7] (135:0.5) to[out=180,in=180,looseness=1.7] (225:0.5);},
% LAND %
NATOSymb land/none/.pic={
\pic{NATOSymb air/none};},
NATOSymb land/friendly/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (-0.75, -0.5) rectangle (0.75, 0.5);},
NATOSymb land/hostile/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0, -0.705) -- (-0.705, 0) -- (0, 0.705) -- (0.705, 0) -- cycle;},
NATOSymb land/neutral/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0.5, -0.5) rectangle (-0.5, 0.5);},
NATOSymb land/unknown/.pic={
\path [use as bounding box] (-0.705,-0.705) -- (-0.705, 0.705) -- (0.705, 0.705) -- (0.705, -0.705) -- cycle;
\draw [fill=NATOSymb@fill, \NATOSymb@line] (45:0.5) to[out=90,in=90,looseness=1.7] (135:0.5) to[out=180,in=180,looseness=1.7] (225:0.5) to[out=270, in=270, looseness=1.7] (315:0.5) to[out=0, in=0, looseness=1.7] (45:0.5) -- cycle;
},
% EQUIPMENT/SEA SURFACE %
NATOSymb equipment/none/.pic={
\path (0.5, 0.5) rectangle (-0.5, -0.5);
\draw[lightgray, dashed] (0:0.5) -- (45:0.5) -- (90:0.5) -- (135:0.5) -- (180:0.5) -- (225:0.5) -- (270:0.5) -- (315:0.5) -- cycle;},
NATOSymb equipment/friendly/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] circle (0.5);},
NATOSymb equipment/hostile/.pic={
\pic{NATOSymb land/hostile};},
NATOSymb equipment/neutral/.pic={
\pic{NATOSymb land/neutral};},
NATOSymb equipment/unknown/.pic={ 
\pic{NATOSymb land/unknown};},
% INSTALLATION %
NATOSymb installation/none/.pic={
\pic{NATOSymb air/none};},
NATOSymb installation/friendly/.pic={
\fill (0.2, 0.65) rectangle (-0.2, 0.5);
\pic [local bounding box=M] {NATOSymb land/friendly};},
NATOSymb installation/hostile/.pic={
\fill (0.2, 0.825) rectangle(-0.2, 0.4);
\pic [local bounding box=M] {NATOSymb land/hostile};},
NATOSymb installation/neutral/.pic={
\fill (0.2, 0.65) rectangle (-0.2, 0.5);
\pic[local bounding box=M] {NATOSymb land/neutral};},
NATOSymb installation/unknown/.pic={ 
\fill (0.2, 0.825) rectangle(-0.2, 0.4);
\pic [local bounding box=M] {NATOSymb land/unknown};},
% SEA SUBSURFACE %
NATOSymb seasubsurface/none/.pic={
\pic {NATOSymb air/none};},
NATOSymb seasubsurface/friendly/.pic={
\pic [rotate=180] {NATOSymb air/friendly};},
NATOSymb seasubsurface/hostile/.pic={
\pic [rotate=180] {NATOSymb air/hostile};},
NATOSymb seasubsurface/neutral/.pic={
\pic [rotate=180] {NATOSymb air/neutral};},
NATOSymb seasubsurface/unknown/.pic={
\pic [rotate=180] {NATOSymb air/unknown};},
% SPACE %
NATOSymb space/none/.pic={
\pic {NATOSymb air/none};},
NATOSymb space/friendly/.pic={
\pic {NATOSymb air/friendly};
\begin{scope}
\clip (-0.555, -0.5) arc (180:0:0.555 and 1.37);
\fill (0.5, 0.87) rectangle (-0.5, 0.72);
\end{scope}},
NATOSymb space/hostile/.pic={
\pic {NATOSymb air/hostile};
\begin{scope}
\clip (0.5, -0.5) -- (0.5, 0.21) -- (0, 0.71) --  (-0.5, 0.21) --  (-0.5, -0.5);
\fill (0.5, 0.71) rectangle (-0.5, 0.56);
\end{scope}},
NATOSymb space/neutral/.pic={
\pic [local bounding box=M]{NATOSymb air/neutral};
\filldraw (0.5, 0.65) rectangle (-0.5, 0.5);},
NATOSymb space/unknown/.pic={
\pic {NATOSymb air/unknown};
\begin{scope}
\clip (315:0.5) to[out=0, in=0, looseness=1.7] (45:0.5) to[out=90,in=90,looseness=1.7] (135:0.5) to[out=180,in=180,looseness=1.7] (225:0.5);
\fill (0.5, 0.73) rectangle (-0.5, 0.58);
\end{scope}},
% ACTIVITY %
NATOSymb activity/none/.pic={
\pic{NATOSymb air/none};},
NATOSymb activity/friendly/.pic={
\pic {NATOSymb land/friendly};
\fill (0.75, 0.5) rectangle (0.6, 0.35);
\fill (-0.75, 0.5) rectangle (-0.6, 0.35);
\fill (0.75, -0.5) rectangle (0.6, -0.35);
\fill (-0.75, -0.5) rectangle (-0.6, -0.35);
},
NATOSymb activity/hostile/.pic={
\pic {NATOSymb land/hostile};
\fill (0, 0.705) -- ++(315:0.15) -- ++(225:0.15) -- ++(135:0.15) -- cycle;
\fill (0, -0.705) -- ++(45:0.15) -- ++(135:0.15) -- ++(225:0.15) -- cycle;
\fill (0.705, 0) -- ++(135:0.15) -- ++(225:0.15) -- ++(315:0.15) -- cycle;
\fill (-0.705, 0) -- ++(45:0.15) -- ++(315:0.15) -- ++(225:0.15) -- cycle;
},
NATOSymb activity/neutral/.pic={
\pic {NATOSymb land/neutral};
\fill (0.5, 0.5) rectangle (0.35, 0.35);
\fill (-0.5, 0.5) rectangle (-0.35, 0.35);
\fill (0.5, -0.5) rectangle (0.35, -0.35);
\fill (-0.5, -0.5) rectangle (-0.35, -0.35);
},
NATOSymb activity/unknown/.pic={ 
\pic {NATOSymb land/unknown};
\begin{scope}
\clip (45:0.5) to[out=90,in=90,looseness=1.7] (135:0.5) to[out=180,in=180,looseness=1.7] (225:0.5) to[out=270, in=270, looseness=1.7] (315:0.5) to[out=0, in=0, looseness=1.7] (45:0.5) -- cycle;
\fill (0.075, 0.705) rectangle (-0.075, 0.555);
\fill (0.075, -0.705) rectangle (-0.075, -0.555);
\fill (0.705, 0.075) rectangle (0.555, -0.075);
\fill (-0.705, 0.075) rectangle (-0.555, -0.075);
\end{scope}}, 
%% AIR SYMBOLS %%
% MAIN %
NATOSymb air/main/civilian fixed wing/.pic={
\draw (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\begin{scope}[xscale=-1]
\draw (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\end{scope}},
NATOSymb air/main/civilian rotary wing/.pic={
\draw (0.44, 0.15) -- (0.44, -0.15) -- (-0.44, 0.15) -- (-0.44, -0.15) -- cycle;},
NATOSymb air/main/military balloon/.pic={
\fill (0, 0.025) circle (0.175);
\fill (-0.05, 0) -- (-0.05,-0.2) -- (0.05, -0.2) -- (0.05,0) -- cycle;},
NATOSymb air/main/civilian balloon/.pic={
\path (0.175, 0.2) rectangle (-0.175, -0.2); 
\draw (0, 0.025) circle (0.175);
\begin{scope}
\clip (0, 0.025) circle (0.175) [reverseclip];
	\draw (-0.05, 0) -- (-0.05,-0.2) -- (0.05, -0.2) -- (0.05,0) -- cycle;
\end{scope}},
NATOSymb air/main/military airship/.pic={
\fill (0, 0) ellipse (0.45 and 0.15);
\fill (0.2, 0) -- (0.3, 0.175) -- (0.4,0.175) -- (0.375,0) -- (0.4,-0.175) -- (0.3, -0.175) -- cycle;},
NATOSymb air/main/civilian airship/.pic={
\path (0.45, 0.175) rectangle (-0.45, -0.175);
\draw (0, 0) ellipse (0.45 and 0.15);
\begin{scope}
\clip (0, 0) ellipse (0.45 and 0.15) [reverseclip];
	\draw (0.2, 0) -- (0.3, 0.175) -- (0.4,0.175) -- (0.375,0) -- (0.4,-0.175) -- (0.3, -0.175) -- cycle;
\end{scope}},
NATOSymb air/main/air decoy/.pic={
\pic [yshift=1.5] {NATOSymb multi/main/decoy};
\fill (0.4, -0.2) rectangle (-0.4, -0.15);
},
% UPPER %
%% LAND SYMBOLS %%
% FULLFRAME %
NATOSymb land/main/air assault with organic lift/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75, -0.2) -- (-0.1, -0.2) -- (0, -0.325) -- (0.1, -0.2) -- (0.75, -0.2);
},
NATOSymb land/main/air assault with organic lift/hostile/.pic={
\clip \cliphostile;
\draw (-0.5, -0.2) -- (-0.15, -0.2) -- (0, -0.5) -- (0.15, -0.2) -- (0.5, -0.2);
},
NATOSymb land/main/air assault with organic lift/neutral/.pic={
\clip \clipneutral;
\draw (-0.5, -0.2) -- (-0.1, -0.2) -- (0, -0.325) -- (0.1, -0.2) -- (0.5, -0.2);
},
NATOSymb land/main/air assault with organic lift/unknown/.pic={
\clip \clipunknown;
\draw (-0.65, -0.2) -- (-0.1, -0.2) -- (0, -0.325) -- (0.1, -0.2) -- (0.65, -0.2);
},
NATOSymb land/main/air defence/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75,-0.5) to[out=90,in=90,looseness=0.675] (0.75,-0.5);
},
NATOSymb land/main/air defence/hostile/.pic={
\clip \cliphostile;
\draw (225:0.5) to[out=45,in=135,looseness=0.725] (315:0.5);
},
NATOSymb land/main/air defence/neutral/.pic={
\clip \clipneutral;
\draw (-0.5, -0.5) to[out=90,in=90,looseness=1] (0.5, -0.5);
},
NATOSymb land/main/air defence/unknown/.pic={
\clip \clipunknown;
\draw (225:0.5) to[out=45,in=135,looseness=0.725] (315:0.5);
},
NATOSymb land/main/air and naval gunfire liaison company/.pic={
\pic{NATOSymb multi/main/field artillery};
\pic [xscale=0.75, yscale=1.4] {NATOSymb multi/main/aviation rotary wing};
\pic at (0, 0.345) {NATOSymb multi/upper/naval};
},
NATOSymb land/main/air and naval gunfire liaison company/friendly/.pic={
\pic {NATOSymb land/main/air and naval gunfire liaison company};
\pic {NATOSymb land/main/reconnaissance/friendly};
},
NATOSymb land/main/air and naval gunfire liaison company/hostile/.pic={
\pic {NATOSymb land/main/air and naval gunfire liaison company};
\pic {NATOSymb land/main/reconnaissance/hostile};
},
NATOSymb land/main/air and naval gunfire liaison company/neutral/.pic={
\pic {NATOSymb land/main/air and naval gunfire liaison company};
\pic {NATOSymb land/main/reconnaissance/neutral};
},
NATOSymb land/main/air and naval gunfire liaison company/unknown/.pic={
\pic {NATOSymb land/main/air and naval gunfire liaison company};
\pic {NATOSymb land/main/reconnaissance/unknown};
},
NATOSymb land/main/amphibious/friendly/.pic={
\clip \clipfriendly;
\pic {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/amphibious/hostile/.pic={
\clip \cliphostile;
\pic [xscale=0.9] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/amphibious/neutral/.pic={
\clip \clipneutral;
\pic [xscale=0.9] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/amphibious/unknown/.pic={
\clip \clipunknown;
\pic [xscale=0.9] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/analysis/.pic={
\draw (-0.3,-0.2) -- (0.3, -0.2) -- (0, -0.4) -- cycle;
\draw (0, -0.2) -- (0, 0.4);
},
NATOSymb land/main/analysis electronic warfare/.pic={
\draw (-0.3,-0.2) -- (0.3, -0.2) -- (0, -0.4) -- cycle;
\draw (0, -0.2) -- (0, 0.4);
\pic at (-0.25, 0) {NATOSymb main/text={E}};
\pic at (0.25, 0) {NATOSymb main/text={W}};
},
NATOSymb land/main/intercept/.pic={
\fill (-0.3,-0.2) -- (0.3, -0.2) -- (0, -0.4) -- cycle;
\draw (0, -0.2) -- (0, 0.4);
},
NATOSymb land/main/intercept electronic warfare/.pic={
\fill (-0.3,-0.2) -- (0.3, -0.2) -- (0, -0.4) -- cycle;
\draw (0, -0.2) -- (0, 0.4);
\pic at (-0.25, 0) {NATOSymb main/text={E}};
\pic at (0.25, 0) {NATOSymb main/text={W}};
},
NATOSymb land/main/anti tank anti armour/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75, -0.5) -- (0, 0.5) -- (0.75, -0.5);
},
NATOSymb land/main/anti tank anti armour/hostile/.pic={
\clip \cliphostile;
\draw (-0.55, -0.5) -- (0, 0.705) -- (0.55, -0.5);
},
NATOSymb land/main/anti tank anti armour/neutral/.pic={
\clip \clipneutral;
\draw (-0.5, -0.5) -- (0, 0.5) -- (0.5, -0.5);
},
NATOSymb land/main/anti tank anti armour/unknown/.pic={
\clip \clipunknown;
\draw (225:0.5) -- (0, 0.705) -- (315:0.5);
},
NATOSymb land/main/corps support/friendly/.pic={
\clip \clipfriendly;
\draw (0.75, 0.5) -- (0:0.5) -- (0.75, -0.5); 
},
NATOSymb land/main/corps support/hostile/.pic={
\clip \cliphostile;
\draw (0.95, 0.5) -- (0.45, 0) -- (0.95, -0.5); 
},
NATOSymb land/main/corps support/neutral/.pic={
\clip \clipneutral;
\draw (0.5, 0.5) -- (0.35, 0)  -- (0.5, -0.5);
},
NATOSymb land/main/corps support/unknown/.pic={
\clip \clipunknown;
\draw (0.75, 0.5) -- (0:0.5)  -- (0.75, -0.5);
},
NATOSymb land/main/direction finding/.pic={
\draw (-0.3, 0.2) -- (0, 0.4) -- (0.3, 0.2);
\draw (0, 0.4) -- (0, -0.4);
},
NATOSymb land/main/direction finding electronic warfare/.pic={
\draw (-0.3, 0.2) -- (0, 0.4) -- (0.3, 0.2);
\draw (0, 0.4) -- (0, -0.4);
\pic at (-0.25, 0) {NATOSymb main/text={E}};
\pic at (0.25, 0) {NATOSymb main/text={W}};
},
NATOSymb land/main/search/.pic={
\pic [yscale=-1] {NATOSymb land/main/direction finding};
},
NATOSymb land/main/search electronic warfare/.pic={
\pic [yscale=-1] {NATOSymb land/main/direction finding};
\pic at (-0.25, 0) {NATOSymb main/text={E}};
\pic at (0.25, 0) {NATOSymb main/text={W}};
},
NATOSymb land/main/headquarters/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75, 0.2) -- (0.75, 0.2); 
},
NATOSymb land/main/headquarters/hostile/.pic={
\clip \cliphostile;
\draw (0.5, 0.2) -- (-0.5, 0.2); 
},
NATOSymb land/main/headquarters/neutral/.pic={
\clip \clipneutral;
\draw (0.5, 0.2) -- (-0.5, 0.2);
},
NATOSymb land/main/headquarters/unknown/.pic={
\clip \clipunknown;
\draw (-0.75, 0.2) -- (0.75, 0.2);
},
NATOSymb land/main/infantry/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75, 0.5) -- (0.75, -0.5); 
\draw (-0.75, -0.5) -- (0.75, 0.5); 
},
NATOSymb land/main/infantry/hostile/.pic={
\clip \cliphostile;
\draw (-0.5, 0.25) -- (0.5, -0.25); 
\draw (-0.5, -0.25) -- (0.5, 0.25); 
},
NATOSymb land/main/infantry/neutral/.pic={
\clip \clipneutral;
\draw (-0.5, 0.25) -- (0.5, -0.25); 
\draw (-0.5, -0.25) -- (0.5, 0.25); 
},
NATOSymb land/main/infantry/unknown/.pic={
\clip \clipunknown;
\draw (-0.75, 0.35) -- (0.75, -0.35); 
\draw (-0.75, -0.35) -- (0.75, 0.35); 
},
NATOSymb land/main/jamming/friendly/.pic={
\clip \clipfriendly;
\pic at (0, 0.4) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0.936, 0.4) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (-0.936, 0.4) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0, 0.3) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0.936, 0.3) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (-0.936, 0.3) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/jamming/hostile/.pic={
\clip \cliphostile;
\pic at (0, 0.4) [xscale=0.75, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0, 0.3) [xscale=0.75, yscale=0.5] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/jamming/neutral/.pic={
\clip \clipneutral;
\pic at (0, 0.4) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0, 0.3) [xscale=0.65, yscale=0.5] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/jamming/unknown/.pic={
\clip \clipunknown;
\clip (-0.45, 0.2) rectangle (0.45, 0.5);
\pic at (0, 0.4) [xscale=0.6, yscale=0.5] {NATOSymb multi/main/amphibious};
\pic at (0, 0.3) [xscale=0.6, yscale=0.5] {NATOSymb multi/main/amphibious};
},
NATOSymb land/main/jamming electronic warfare/.pic={
\pic {NATOSymb main/textfull={EW}};
\pic {NATOSymb land/main/jamming/\NATOSymb@selectedfaction};
},
NATOSymb land/main/main gun system/friendly/.pic={
\clip \clipfriendly;
\draw (-0.5, 0.5) -- (-0.5, -0.5); 
},
NATOSymb land/main/main gun system/hostile/.pic={
\clip \cliphostile;
\draw (-0.5, 0.5) -- (-0.5, -0.5);  
},
NATOSymb land/main/main gun system/neutral/.pic={
\clip \clipneutral;
\draw (-0.3, 0.5) -- (-0.3, -0.5);  
},
NATOSymb land/main/main gun system/unknown/.pic={
\clip \clipunknown;
\draw (-0.5, 0.5) -- (-0.5, -0.5); 
},
NATOSymb land/main/motorized/.pic={
\draw (M.north) -- (M.south);
},
NATOSymb land/main/reconnaissance/friendly/.pic={
\clip \clipfriendly;
\draw (0.75, 0.5) -- (-0.75, -0.5);
},
NATOSymb land/main/reconnaissance/hostile/.pic={
\clip \cliphostile;
\draw (0.5, 0.5) -- (-0.5, -0.5);
},
NATOSymb land/main/reconnaissance/neutral/.pic={
\clip \clipneutral;
\draw (0.5, 0.5) -- (-0.5, -0.5);
},
NATOSymb land/main/reconnaissance/unknown/.pic={
\clip \clipunknown;
\draw (0.5, 0.5) -- (-0.5, -0.5);
},
NATOSymb land/main/signal radio/.pic={
\pic {NATOSymb multi/main/signal/\NATOSymb@selectedfaction};
\pic {NATOSymb land/main/radio};
},
NATOSymb land/main/signal radio relay/.pic={
\pic {NATOSymb multi/main/signal/\NATOSymb@selectedfaction};
\pic {NATOSymb land/main/radio relay};
},
NATOSymb land/main/signal radio teletype centre/.pic={
\pic {NATOSymb multi/main/signal/\NATOSymb@selectedfaction};
\pic {NATOSymb land/main/radio teletype centre};
},
NATOSymb land/main/signal tactical satellite/.pic={
\pic {NATOSymb multi/main/signal/\NATOSymb@selectedfaction};
\pic {NATOSymb land/main/tactical satellite};
},
NATOSymb land/main/supply/friendly/.pic={
\draw (0.75, -0.25) -- (-0.75, -0.25);
},
NATOSymb land/main/supply/hostile/.pic={
\clip \cliphostile;
\draw (0.5, -0.25) -- (-0.5, -0.25);
},
NATOSymb land/main/supply/neutral/.pic={
\draw (0.5, -0.25) -- (-0.5, -0.25);
},
NATOSymb land/main/supply/unknown/.pic={
\clip \clipunknown;
\draw (0.75, -0.25) -- (-0.75, -0.25);
},
NATOSymb land/main/above corps support/friendly/.pic={
\pic {NATOSymb land/main/corps support/friendly};
\pic [xscale=-1] {NATOSymb land/main/corps support/friendly};
},
NATOSymb land/main/above corps support/hostile/.pic={
\clip \cliphostile;
\pic {NATOSymb land/main/corps support/hostile};
\pic [xscale=-1] {NATOSymb land/main/corps support/hostile};
},
NATOSymb land/main/above corps support/neutral/.pic={
\pic {NATOSymb land/main/corps support/neutral};
\pic [xscale=-1] {NATOSymb land/main/corps support/neutral};
},
NATOSymb land/main/above corps support/unknown/.pic={
\clip \clipunknown;
\pic {NATOSymb land/main/corps support/unknown};
\pic [xscale=-1] {NATOSymb land/main/corps support/unknown};
},
% MAIN %
NATOSymb land/main/air traffic services/.pic={
\pic [xscale=0.75, yscale= 1.35] {NATOSymb multi/main/aviation rotary wing};
\draw (0, -0.2) -- (0, 0.05);
\fill (0, 0.125) circle (0.075);
},
NATOSymb land/main/aviation composite fixed wing and rotary wing/.pic={
\pic [xscale=0.45, yscale=0.75] {NATOSymb multi/main/aviation fixed wing};
\pic [yscale=0.45, xscale=0.7, rotate=90] {NATOSymb multi/main/aviation rotary wing};
},
NATOSymb land/main/civilian military cooperation/.pic={
\draw (0.375, 0.2) -- (-0.375, 0.2) -- (-0.375, -0.025) to[in=270, out=270, looseness=0.75] (0.375, -0.025) -- cycle;
},
NATOSymb land/main/combat support/.pic={
\fill (0.15, 0.2) -- (-0.15, 0.2) -- (-0.15, -0.05) -- (0, -0.2) -- (0.15, -0.05) -- cycle;
},
NATOSymb land/main/combined arms/.pic={
\pic {NATOSymb multi/main/armoured};
\draw (0.275, 0.2) -- (-0.275, -0.2);
\draw (0.275, -0.2) -- (-0.275, 0.2);
},
NATOSymb multi/main/drilling/.pic={
\fill (-0.1,-0.2) -- (0.1,-0.2) -- (0.2, 0.2) -- (-0.2, 0.2) -- cycle;
},
NATOSymb land/main/electronic ranging/.pic={
\begin{scope} [yshift=1]
\draw (135:0.225) arc (135:315:0.225) -- cycle;
\draw (0,0) -- (225:-0.225);
\end{scope}
},
NATOSymb multi/main/armoured engineer/.pic={
\pic [scale=0.6] {NATOSymb multi/main/engineer};
\pic {NATOSymb multi/main/armoured};
},
NATOSymb land/main/observer/.pic={
\draw (0.25, -0.2) -- (-0.25, -0.2) -- (0, 0.2) -- cycle;
},
NATOSymb land/main/field artillery observer/.pic={
\pic [scale=0.5, yshift=-3.5] {NATOSymb multi/main/field artillery};
\pic {NATOSymb land/main/observer};
\draw (-0.25, -0.2) -- (0.125,0);
},
NATOSymb land/main/self propelled field artillery/.pic={
\pic {NATOSymb multi/main/field artillery};
\pic {NATOSymb multi/main/armoured};
},
NATOSymb land/main/finance/.pic={
\draw (-0.3, -0.2) -- (-0.3, 0) -- (-0.15, 0.2) -- (0.15, 0.2) -- (0.3, 0) -- (0.3, -0.2) -- cycle;
\draw (-0.3, 0) -- (0.3, 0);
},
NATOSymb land/main/fire protection/.pic={
\pic [scale=0.7] {NATOSymb multi/main/field artillery};
\pic [xscale=0.4, yscale=0.6]{NATOSymb multi/main/aviation rotary wing};
\pic [xscale=0.6, yscale=0.4, rotate=90]{NATOSymb multi/main/aviation rotary wing};
},
NATOSymb land/main/labour/.pic={
\draw (0.1, 0) -- (-0.1, 0) -- (0, -0.15) -- cycle;
\draw (0, 0) -- (0, 0.15);
\draw (0.1, 0.15) -- (-0.1, 0.15); 
},
NATOSymb land/main/laundry/.pic={
\draw (0, -0.2) -- (0, 0.1)  -- (-0.15, 0.2);
\draw (0, 0.1) -- (-0.15, 0.1);
\draw (0, 0.1) -- (-0.15, 0);
},
NATOSymb land/main/missile/.pic={
\draw (0, -0.2) -- (0, 0.2);
\draw (0.1, -0.2) -- (0.1, 0.1) arc(0:180:0.1) -- (-0.1, -0.2);
},
NATOSymb land/main/mortar/.pic={
\draw (0, -0.15) circle (0.05);
\draw (0, -0.1) -- (0, 0.2);
\draw (0.05, 0.125) -- (0, 0.2) -- (-0.05, 0.125);
},
NATOSymb land/main/tactical mortar/.pic={
\pic [scale=0.75] {NATOSymb land/main/mortar};
\pic {NATOSymb multi/main/armoured};
},
NATOSymb land/main/mortuary affairs/.pic={
\draw (0.1, -0.175) rectangle (-0.1, 0.175);
\draw (0, -0.15) -- (0, 0.15);
\draw (0.05, 0.1) -- (-0.05, 0.1);
},
NATOSymb land/main/ordnance/.pic={
\draw (0,-0.075) ellipse (0.15 and 0.125);
\begin{scope}
\path [use as bounding box] (0.3, 0.2) rectangle (-0.3, -0.2);
\clip (0,-0.075) ellipse (0.15 and 0.125) [reverseclip];
\draw (0, -0.05) -- (0.15, 0.15);
\draw (0, -0.05) -- (-0.15, 0.15);
\draw (0, -0.05) -- (0.1, 0.175);
\draw (0, -0.05) -- (-0.1, 0.175);
\end{scope}
},
NATOSymb land/main/pipeline/.pic={
\draw (0.125, -0.2) rectangle (-0.125, 0.05);
\draw (0.125, -0.15) -- (0.275, -0.15);
\draw (0.125, 0) -- (0.275, 0);
\draw (-0.125, -0.15) -- (-0.275, -0.15);
\draw (-0.125, 0) -- (-0.275, 0);
\draw (0.1, 0.2) rectangle (-0.1, 0.15);
\draw (0.025, 0.05) -- (0.025, 0.15);
\draw (-0.025, 0.05) -- (-0.025, 0.15);
},
NATOSymb land/main/postal/.pic={
\draw (0.1, 0.2) arc(180:225:0.565) arc(270:197:0.565) -- cycle; 
},
NATOSymb land/main/psychological operations broadcast/.pic={
\pic {NATOSymb multi/main/antenna};
\pic {NATOSymb multi/main/psychological operations filled};
},
NATOSymb land/main/radio/.pic={
\draw (0, -0.125) circle (0.075);
\draw (0, -0.05) -- (0, 0.2);
\draw (0.15, 0.15) -- (0.1, 0.2) -- (0.05, 0.15) -- (0, 0.2) -- (-0.05, 0.15) -- (-0.1, 0.2) -- (-0.15, 0.15);
},
NATOSymb land/main/radio relay/.pic={
\draw (0, -0.125) circle (0.075);
\draw (0, -0.05) -- (0, 0.2);
\draw (0.15, 0.2) -- (-0.15, 0.2);
},
NATOSymb land/main/radio teletype centre/.pic={
\draw (0, -0.2) -- (0, 0.2);
\draw (0.15, 0.2) -- (-0.15, 0.2);
\draw (0.1, 0.15) -- (-0.1, 0.15);
\pic at (0, -0.1) {NATOSymb main/textsmall={C}};
},
NATOSymb land/main/sniper/.pic={
\draw (0, -0.2) -- (0, 0.15);
\draw (0.25, 0.2) -- (0.05, 0.2);
\draw (-0.25, 0.2) -- (-0.05, 0.2);
},
NATOSymb land/main/surveillance/.pic={
\fill (0.25, -0.2) -- (-0.25, -0.2) -- (0, 0.2) -- cycle;
},
NATOSymb land/main/survey/.pic={
\draw [fill] (0, -0.1) -- (0, 0.195) -- (0.25, 0.0475) -- cycle;
\draw (0.1, -0.2) -- (0, -0.1) -- (-0.1, -0.2);
},
NATOSymb land/main/tactical satellite/.pic={
\draw (-0.14, -0.2) arc(135:45:0.2);
\draw (0, 0.05) -- (0, -0.135);
\draw (0.1, 0.05) -- (-0.1, 0.05);
\fill (-0.075, -0.1) rectangle (0.075, 0.175);
\fill (-0.25, -0.125) rectangle (-0.1, 0.2);
\fill (0.25, -0.125) rectangle (0.1, 0.2);
},
NATOSymb land/main/topographic/.pic={
\draw (0.1,-0.2) -- (0, 0.05) -- (-0.1, -0.2);
\draw (0, 0.05) -- (0, 0.2);
\draw (-0.14, -0.11) arc(225:315:0.2);
},
NATOSymb land/main/video imagery/.pic={
\draw (-0.4, 0.2) -- (-0.4, -0.2) -- (0.05, -0.2) -- (0.2, 0.2) -- cycle;
\draw [very thick] (0.4, -0.2) -- (0.4, 0.15);
\draw (0.075, -0.15) -- (0.4, -0.15);
\draw (0.16, 0.1) -- (0.4, 0.1);
},
NATOSymb land/main/civilian police/.pic={
\draw (0.225, 0.2) to[in=270, out=270, looseness=3] (-0.225, 0.2) to [in=270, out=270, looseness=1.5] (0,0.2) to [in=270, out=270, looseness=1.5] (0.225, 0.2) -- cycle;
},
NATOSymb land/main/environmental protection/.pic={
\draw (0, 0.2) -- (0.1, 0.05) -- (0.05, 0.05) -- (0.15, -0.05) -- (0.1, -0.05) -- (0.2, -0.15) -- (0.15, -0.15) -- (0.05, -0.15) -- (0.05, -0.2) -- (-0.05, -0.2) -- (-0.05, -0.15) -- (-0.2, -0.15) -- (-0.1, -0.05) -- (-0.15, -0.05) -- (-0.05, 0.05) -- (-0.1, 0.05) -- cycle;
},
NATOSymb land/main/organisation or group/.pic={
\pic [scale=0.9] at (0, -0.02) {NATOSymb multi/main/individual};
\pic [scale=0.9] at (0.2, 0.02) {NATOSymb multi/main/individual};
\pic [scale=0.9] at (-0.2, 0.02) {NATOSymb multi/main/individual};
},
NATOSymb land/main/killing victims/.pic={
\pic {NATOSymb land/main/organisation or group};
\draw (-0.41, 0.2) -- (0.41, -0.2);
},
% UPPER %
NATOSymb land/upper/air assault/.pic={
\draw (0.25, 0.05) -- (0, -0.1) -- (-0.25, 0.05);
},
NATOSymb land/upper/bridging/.pic={
\pic[scale=0.625, yshift=-1.6] {NATOSymb multi/main/bridge};
},
NATOSymb land/upper/direct communications/.pic={
\draw[{Stealth[inset=0pt,scale=0.5]}-{Stealth[inset=0pt,scale=0.5]}, very thick] (-0.215, -0.05) -- (0.215, -0.05);
\draw [semithick] (-0.285, -0.05) circle (0.075);
\draw [semithick] (0.285, -0.05) circle (0.075);
},
NATOSymb land/upper/diving/.pic={
\pic [scale=0.75] {NATOSymb multi/main/diver};
},
NATOSymb land/upper/drilling/.pic={
\pic [scale=0.625, yshift=-0.5] {NATOSymb multi/main/drilling};
},
NATOSymb land/upper/missile/.pic={
\pic [scale=0.25] {NATOSymb multi/main/missile};
},
NATOSymb land/upper/mobile advisor and support/.pic={
\draw[-{Stealth[inset=0pt,scale=0.5]}, very thick] (-0.215, -0.05) -- (0.215, -0.05);
\draw [semithick] (-0.285, -0.05) circle (0.075);
\draw [semithick] (0.285, -0.05) circle (0.075);
},
NATOSymb land/upper/multiple rocket launcher/.pic={
\draw (0.175, 0) -- (0, 0.15) -- (-0.175, 0);
\draw (0.175, -0.14) -- (0, 0.01) -- (-0.175, -0.14);
},
NATOSymb land/upper/radar/.pic={
\pic [scale=0.5] {NATOSymb multi/main/radar};
},
NATOSymb land/upper/sensor/.pic={
\pic [scale=0.5] {NATOSymb multi/main/sensor};
},
NATOSymb land/upper/signals intelligence/.pic={
\begin{scope}[scale=0.75, yshift=-2.5] 
\draw (0, -0.05) -- (0, 0.2);
\draw (0.15, 0.15) -- (0.1, 0.2) -- (0.05, 0.15) -- (0, 0.2) -- (-0.05, 0.15) -- (-0.1, 0.2) -- (-0.15, 0.15);
\end{scope}
},
NATOSymb land/upper/single rocket launcher/.pic={
\draw (0.175, -0.075) -- (0, 0.075) -- (-0.175, -0.075);
},
NATOSymb land/upper/sniper/.pic={
\pic [scale=0.5, yshift=-1] {NATOSymb land/main/sniper};
},
NATOSymb land/upper/survey/.pic={
\pic [scale=0.5] {NATOSymb land/main/survey};
},
NATOSymb land/upper/topographic/.pic={
\pic [scale=0.5] {NATOSymb land/main/topographic};
},
NATOSymb land/upper/video imagery/.pic={
\pic [scale=0.5, yshift=-1.75] {NATOSymb land/main/video imagery};
},
% LOWER %
NATOSymb land/lower/airborne/.pic={
\draw (0,-0.025) arc(0:180:0.15);
\draw (0,-0.025) arc(180:0:0.15);
},
NATOSymb land/lower/arctic/.pic={
\draw (-0.325,0.135) arc(180:270:0.075 and 0.15) -- +(0.5, 0) arc(-90:0:0.075 and 0.15);
},
NATOSymb land/lower/bicycle equipped/.pic={
\draw (0,0) circle (0.1);
},
NATOSymb land/lower/control/.pic={
\draw[{Stealth[inset=0pt,scale=0.5]}-{Stealth[inset=0pt,scale=0.5]}] (0, 0.125) -- (0, -0.125);
\draw[{Stealth[inset=0pt,scale=0.5]}-{Stealth[inset=0pt,scale=0.5]}] (0.125, 0) -- (-0.125, 0);
},
NATOSymb land/lower/enhanced position location reporting system/.pic={
\draw (0, 0.125) -- (0, -0.125);
\draw (225:0.15) -- (0, 0) -- (315:0.15);
},
NATOSymb land/lower/intermodal/.pic={
\draw (0.15, 0.05) -- (-0.15, 0.05) -- (-0.15, 0.1) -- (-0.25, 0.025) -- (-0.15, -0.05) -- (-0.15, 0) -- (0.15, 0) -- (0.15, -0.05) -- (0.25, 0.025) -- (0.15, 0.1) -- cycle;
},
NATOSymb land/lower/launcher/.pic={
\draw (-0.25, -0.05) -- (0.25, 0.125) -- (0.25, -0.05);
},
NATOSymb land/lower/mountain/.pic={
\fill (-0.125, -0.16) -- (0.125, -0.16) -- (0, 0.1) -- cycle;
},
NATOSymb land/lower/mountain/friendly/.pic={
\pic {NATOSymb land/lower/mountain};
},
NATOSymb land/lower/mountain/hostile/.pic={
\pic [yshift=-2.5]  {NATOSymb land/lower/mountain};
},
NATOSymb land/lower/mountain/neutral/.pic={
\pic {NATOSymb land/lower/mountain};
},
NATOSymb land/lower/mountain/unknown/.pic={
\clip [yshift=9.6] \clipunknown;
\pic [yshift=-6.5]  {NATOSymb land/lower/mountain};
},
NATOSymb land/lower/radio relay line of sight/.pic={
\draw circle(0.125);
\clip circle(0.125);
\fill (145:0.15) -- (325:0.15) -- (35:0.15) -- (215:0.15) -- cycle;
},
NATOSymb land/lower/recovery unmanned systems/.pic={
\draw (-0.35, 0.125) arc(-180:0:0.35 and 0.2);
},
NATOSymb land/lower/riverine/.pic={
\draw (-0.35, 0.125) arc(-180:0:0.35 and 0.2) -- cycle;
},
NATOSymb land/lower/ski/.pic={
\draw (0.05, 0.125) -- (-0.075, -0.075);
\draw (0.1, -0.05) -- (0.04, -0.1);
\draw (-0.05, 0.125) -- (0.075, -0.075);
\draw (-0.1, -0.05) -- (-0.04, -0.1);
},
NATOSymb land/lower/towed/.pic={
\draw (-0.25, 0.05) -- (0.25,0.05);
\draw (0.3, 0.05) circle (0.05);
\draw (-0.3, 0.05) circle (0.05);
},
NATOSymb land/lower/wheeled/.pic={
\draw (0.24, 0.05) circle (0.08);
\draw (0, 0.05) circle (0.08);
\draw (-0.24, 0.05) circle (0.08);
},
%% EQUIPMENT SYMBOLS %%
% MAIN %
NATOSymb equipment/main/weapon/.pic={
\draw (0, 0.35) -- (0, -0.35);
},
NATOSymb equipment/main/rifle/.pic={
\pic {NATOSymb equipment/main/weapon};
\draw (0.2, 0.1) -- (0, 0.35) -- (-0.2, 0.1);
},
NATOSymb equipment/main/single band/.pic={
\draw [ultra thick] (0.2, -0.1) -- (-0.2, -0.1);
},
NATOSymb equipment/main/double band/.pic={
\draw [ultra thick] (0.2, -0.1) -- (-0.2, -0.1);
\draw [ultra thick] (0.2, -0.2) -- (-0.2, -0.2);
},
NATOSymb equipment/main/triple band/.pic={
\draw [ultra thick] (0.2, 0) -- (-0.2, 0);
\draw [ultra thick] (0.2, -0.1) -- (-0.2, -0.1);
\draw [ultra thick] (0.2, -0.2) -- (-0.2, -0.2);
},
NATOSymb equipment/main/single shot rifle/.pic={
\pic {NATOSymb equipment/main/rifle};
\pic {NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/semi automatic rifle/.pic={
\pic {NATOSymb equipment/main/rifle};
\pic {NATOSymb equipment/main/double band};
},
NATOSymb equipment/main/automatic rifle/.pic={
\pic {NATOSymb equipment/main/rifle};
\pic {NATOSymb equipment/main/triple band};
},
NATOSymb equipment/main/machine gun/.pic={
\pic {NATOSymb equipment/main/rifle};
\draw (0.2, -0.35) -- (-0.2, -0.35);
},
NATOSymb equipment/main/light machine gun/.pic={
\pic {NATOSymb equipment/main/machine gun};
\pic {NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/medium machine gun/.pic={
\pic {NATOSymb equipment/main/machine gun};
\pic {NATOSymb equipment/main/double band};
},
NATOSymb equipment/main/heavy machine gun/.pic={
\pic {NATOSymb equipment/main/machine gun};
\pic {NATOSymb equipment/main/triple band};
},
NATOSymb equipment/main/grenade launcher/.pic={
\pic {NATOSymb equipment/main/rifle};
\draw (0,0) circle (0.1);
},
NATOSymb equipment/main/light grenade launcher/.pic={
\pic {NATOSymb equipment/main/grenade launcher};
\pic [yshift=-4]{NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/medium grenade launcher/.pic={
\pic {NATOSymb equipment/main/grenade launcher};
\pic [yshift=-2]{NATOSymb equipment/main/double band};
},
NATOSymb equipment/main/heavy grenade launcher/.pic={
\pic {NATOSymb equipment/main/grenade launcher};
\pic [yshift=-5]{NATOSymb equipment/main/triple band};
},
NATOSymb equipment/main/flame thrower/.pic={
\draw [ultra thick] (-0.1, -0.4) -- (-0.1, 0.3) to[out=90,in=90,looseness=2] (0.1, 0.3) -- (0.1, 0.275);
},
NATOSymb equipment/main/air defence/.pic={
\draw (0.2, -0.4) to[out=90,in=90,looseness=1.7] (-0.2, -0.4) -- cycle;
\draw (0, -0.2) -- (0, 0.35);
},
NATOSymb equipment/main/anti tank/.pic={
\draw  (0.2, -0.4) -- (0, -0.2) -- (-0.2, -0.4);
\draw (0, -0.2) -- (0, 0.35);
},
NATOSymb equipment/main/high trajectory indirect fire weapons system/.pic={
\draw (0, -0.3) circle (0.1);
\draw (0, -0.2) -- (0, 0.35);
},
NATOSymb equipment/main/side bands/.pic={
\draw (0.2, -0.2) -- (0.2, 0.2);
\draw (-0.2, -0.2) -- (-0.2, 0.2);
},
NATOSymb equipment/main/air defence gun/.pic={
\pic {NATOSymb equipment/main/air defence};
\pic {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/anti tank gun/.pic={
\pic {NATOSymb equipment/main/anti tank};
\pic {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/direct fire gun/.pic={
\pic {NATOSymb equipment/main/weapon};
\pic {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/recoilless gun/.pic={
\pic {NATOSymb equipment/main/rifle};
\pic [yshift=-4] {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/howitzer/.pic={
\pic {NATOSymb equipment/main/high trajectory indirect fire weapons system};
\pic {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/missile launcher/.pic={
\pic {NATOSymb equipment/main/weapon};
\draw (0.2, -0.4) -- (0.2, 0.15) to[out=90,in=90,looseness=1.75] (-0.2, 0.15) -- (-0.2, -0.4);
},
NATOSymb equipment/main/air defence missile launcher/.pic={
\pic {NATOSymb equipment/main/air defence};
\draw (0.2, -0.4) -- (0.2, 0.15) to[out=90,in=90,looseness=1.75] (-0.2, 0.15) -- (-0.2, -0.4);
},
NATOSymb equipment/main/anti tank missile launcher/.pic={
\pic {NATOSymb equipment/main/anti tank};
\draw (0.2, -0.2) -- (0.2, 0.15) to[out=90,in=90,looseness=1.75] (-0.2, 0.15) -- (-0.2, -0.2);
},
NATOSymb equipment/main/surface to surface missile launcher/.pic={
\pic {NATOSymb equipment/main/weapon};
\draw (0.2, -0.35) -- (0.2, 0.15) to[out=90,in=90,looseness=1.75] (-0.2, 0.15) -- (-0.2, -0.35) -- cycle;
},
NATOSymb equipment/main/mortar/.pic={
\pic {NATOSymb equipment/main/high trajectory indirect fire weapons system};
\draw (0.2, 0.1) -- (0, 0.35) -- (-0.2, 0.1);
},
NATOSymb equipment/main/single rocket launcher/.pic={
\pic [yshift=-1.5]{NATOSymb equipment/main/rifle};
\draw (0.2, 0.2) -- (0, 0.45) -- (-0.2, 0.2);
},
NATOSymb equipment/main/multiple rocket launcher/.pic={
\pic {NATOSymb equipment/main/single rocket launcher};
\pic [yshift=-5] {NATOSymb equipment/main/side bands};
},
NATOSymb equipment/main/anti tank rocket launcher/.pic={
\begin{scope}[yshift=-1.5]
\pic {NATOSymb equipment/main/anti tank};
\draw (0.2, 0.1) -- (0, 0.35) -- (-0.2, 0.1);
\end{scope}
\draw (0.2, 0.2) -- (0, 0.45) -- (-0.2, 0.2);
},
NATOSymb equipment/main/non lethal weapon/.pic={
\pic {NATOSymb equipment/main/weapon};
\draw (0.2, 0.35) -- (-0.2, 0.35);
},
NATOSymb equipment/main/non lethal grenade launcher/.pic={
\pic {NATOSymb equipment/main/non lethal weapon};
\draw (0,0) circle (0.1);
},
NATOSymb equipment/main/taser/.pic={
\pic {NATOSymb equipment/main/non lethal weapon};
\pic {NATOSymb main/text={Z}};
},
NATOSymb equipment/main/water cannon/.pic={
\pic {NATOSymb equipment/main/non lethal weapon};
\pic {NATOSymb main/text={W}};
},
NATOSymb equipment/main/armoured fighting vehicle/.pic={
\draw (0, 0.2) -- (0.25, 0) -- (0, -0.2) -- (-0.25, 0) -- cycle;
\draw [ultra thick] (0.275, 0.2) -- (0.275, -0.2);
\draw [ultra thick] (-0.275, 0.2) -- (-0.275, -0.2);
},
NATOSymb equipment/main/armoured fighting vehicle command and control/.pic={
\pic {NATOSymb equipment/main/armoured fighting vehicle};
\pic {NATOSymb main/textsmall={C2}};
},
NATOSymb equipment/main/armoured personnel carrier/.pic={
\draw (0.275, 0.275) -- (0.275, -0.275) -- (-0.275 , -0.275) -- (-0.275, 0.275);
\draw (0.275, 0.15) -- (0, 0.275) -- (-0.275, 0.15);
},
NATOSymb equipment/main/armoured medical personnel carrier/.pic={
\pic {NATOSymb equipment/main/armoured personnel carrier};
\draw (0, 0.275) -- (0, -0.275);
\draw (0.275, -0.05) -- (-0.275, -0.05);
},
NATOSymb equipment/main/armoured protected recovery vehicle/.pic={
\pic {NATOSymb multi/main/armoured};
\pic [yscale=0.5, xscale=0.75] {NATOSymb multi/main/maintenance};
},
NATOSymb equipment/main/medical evacuation armoured protected vehicle/.pic={
\pic {NATOSymb multi/main/armoured};
\pic {NATOSymb multi/main/medic};
},
NATOSymb equipment/main/tank/.pic={
\draw (-0.35, 0.3) -- (-0.35, -0.3);
\draw (0.35, 0.3) -- (0.35, -0.3);
\draw (0.35, 0.2) -- (-0.35, 0.2);
\draw (0.35, -0.2) -- (-0.35, -0.2);
},
NATOSymb equipment/main/light tank/.pic={
\pic {NATOSymb equipment/main/tank};
\pic [rotate=90, yshift=3]{NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/medium tank/.pic={
\pic {NATOSymb equipment/main/tank};
\pic [rotate=90]{NATOSymb equipment/main/single band};
\pic [rotate=90, yshift=6]{NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/heavy tank/.pic={
\pic {NATOSymb equipment/main/tank};
\pic [rotate=90, yshift=-2]{NATOSymb equipment/main/single band};
\pic [rotate=90, yshift=3]{NATOSymb equipment/main/single band};
\pic [rotate=90, yshift=8]{NATOSymb equipment/main/single band};
},
NATOSymb equipment/main/tank recovery vehicle/.pic={
\pic {NATOSymb equipment/main/tank};
\pic [yscale=0.5, xscale=0.75] {NATOSymb multi/main/maintenance};
},
NATOSymb equipment/main/utility vehicle/.pic={
\draw (-0.35, 0.3) -- (-0.35, -0.3) -- (0.35, -0.3) -- (0.35, 0.3) to[in=-90, out=-90, looseness=1] cycle;
},
NATOSymb equipment/main/bridge mounted on utility vehicle/.pic={
\pic {NATOSymb equipment/main/utility vehicle};
\pic [scale=0.75, yshift=-3] {NATOSymb multi/main/bridge};
},
NATOSymb equipment/main/fixed bridge/.pic={
\pic {NATOSymb multi/main/bridge};
\draw (0, 0.15) -- (0, -0.15);
},
NATOSymb equipment/main/folding girder bridge/.pic={
\pic {NATOSymb multi/main/bridge};
\draw (0.1, 0.15) -- (-0.1, 0.15) -- (-0.1, -0.15) -- (0.1, -0.15);
},
NATOSymb equipment/main/hollow deck bridge/.pic={
\pic {NATOSymb multi/main/bridge};
\draw (0.1, 0.15) -- (-0.1, 0.15) -- (-0.1, -0.15) -- (0.1, -0.15) -- cycle;
},
NATOSymb equipment/main/drill mounted on vehicle/.pic={
\pic [scale=0.75, yshift=-4] {NATOSymb multi/main/drill};
\pic {NATOSymb equipment/main/utility vehicle};
},
NATOSymb equipment/main/earthmover/.pic={
\draw (-0.25, 0.25) -- (-0.25, -0.25);
\draw (0.25, 0.25) -- (0.25, -0.25);
\draw (0.25, 0.2) -- (-0.25, 0.2);
\draw (0.25, -0.2) -- (-0.25, -0.2);
\draw (0, 0.2) -- (0, 0.35);
\draw (0.3, 0.3) -- (0.175, 0.35) -- (-0.175, 0.35) -- (-0.3, 0.3);
},
NATOSymb equipment/main/multifunctional earthmover/.pic={
\pic {NATOSymb equipment/main/earthmover};
\pic {NATOSymb main/textsmall={MF}};
},
NATOSymb equipment/main/mine clearing equipment/.pic={
\draw (0, 0.2) -- (0, 0) -- (0.35, -0.2) -- (-0.35, -0.2) -- (0, 0);
},
NATOSymb equipment/main/mine clearing vehicle/.pic={
\pic [line join=bevel] {NATOSymb equipment/main/mine clearing equipment};
\draw (0.35, -0.25) -- (0.35, 0.25);
\draw (-0.35, -0.25) -- (-0.35, 0.25);
\draw (0.35, 0.2) -- (-0.35, 0.2);
},
NATOSymb equipment/main/mine laying equipment/.pic={
\pic {NATOSymb multi/main/mine};
\draw [ultra thick] (0.1, 0.3) -- (-0.1, 0.3);
},
NATOSymb equipment/main/mine laying vehicle/.pic={
\pic [scale=0.6, yshift=-7, transform shape] {NATOSymb equipment/main/mine laying equipment};
\pic {NATOSymb equipment/main/utility vehicle};
},
NATOSymb equipment/main/medical vehicle/.pic={
\draw (0.35, -0.1) -- (-0.35, -0.1);
\draw (0, 0.1) -- (0, -0.3);
\pic {NATOSymb equipment/main/utility vehicle};
},
NATOSymb equipment/main/medical evacuation/.pic={
\pic [scale=0.75, yshift=-4] {NATOSymb multi/main/medic};
\pic {NATOSymb equipment/main/utility vehicle};
},
NATOSymb equipment/main/mobile emergency physician/.pic={
\draw (0.1, 0) -- (-0.1, 0);
\pic {NATOSymb equipment/main/medical vehicle};
},
NATOSymb equipment/main/bus/.pic={
\pic {NATOSymb equipment/main/utility vehicle};
\pic at (0, -0.1) {NATOSymb main/text={B}};
},
NATOSymb equipment/main/semi trailer truck/.pic={
\draw (0.21, -0.025) -- (0.35, -0.025);
\draw (0.35, 0.05) -- (0.35, -0.1);
\pic [scale=0.75, xshift=-2] {NATOSymb equipment/main/utility vehicle};
},
NATOSymb equipment/main/petroleum oil and lubricants vehicle/.pic={
\pic {NATOSymb equipment/main/utility vehicle};
\pic [scale=0.75, yshift=-4] {NATOSymb multi/main/petroleum oil and lubricants};
},
NATOSymb equipment/main/water vehicle/.pic={
\pic {NATOSymb equipment/main/utility vehicle};
\pic [scale=0.75, yshift=-4] {NATOSymb multi/main/water};
},
NATOSymb equipment/main/train locomotive/.pic={
\draw (0.35, -0.3) -- (-0.35, -0.3) -- (-0.35, 0.3) -- (0, 0.3) -- (0, 0) -- (0.35, 0) -- cycle;
},
NATOSymb equipment/main/computer system/.pic={
\draw [ultra thick] (0.3, 0.3) rectangle (-0.3, -0.2);
\draw [ultra thick] (0, -0.2) -- (0, -0.3);
\draw [ultra thick, line cap=rect] (0.3, -0.3) -- (-0.3, -0.3);
},
NATOSymb equipment/main/laser/.pic={
\draw [line join=round, line cap=round] (0.1, -0.25) -- (-0.1, -0.225) -- (0.1, -0.2) -- (-0.1, -0.175) -- (0.1, -0.15) -- (0, -0.1375) -- (0, -0.0125) -- (-0.1, 0) -- (0.1, 0.025) -- (-0.1, 0.05) -- (0.1, 0.075) -- (0, 0.0875) -- (0, 0.25);
\draw [line join=round, line cap=round] (0.1, 0.2) -- (0, 0.25) -- (-0.1, 0.2);
},
NATOSymb equipment/main/land mine/.pic={
\draw (0, 0) circle(0.25);
},
NATOSymb equipment/main/antipersonnel land mine/.pic={
\fill (0, 0) circle(0.25);
\draw (135:0.35) -- (0, 0) -- (45:0.35);
},
NATOSymb equipment/main/antitank land mine/.pic={
\fill (0, 0) circle(0.25);
},
NATOSymb equipment/main/sensor/.pic={
\pic [scale=1.75] {NATOSymb multi/main/sensor};
},
NATOSymb equipment/main/sensor emplaced/.pic={
\pic [scale=1.5] {NATOSymb multi/main/sensor};
\draw (0.15, 0.3) -- (0.1, 0.35) -- (0.05, 0.3) -- (0, 0.35) -- (-0.05, 0.3) -- (-0.1, 0.35) -- (-0.15, 0.3);
},
NATOSymb equipment/main/booby trap/.pic={
\draw (0, -0.2) ellipse(0.2 and 0.065);
\begin{scope}
\clip (0, -0.2) ellipse(0.2 and 0.065) [reverseclip];
\draw (-0.2, -0.2) -- (0, 0.2) -- (0.2, -0.2);
\end{scope}
},
% MOBILITY %
NATOSymb equipment/mobility/amphibious/.pic={
\pic [scale=0.75] {NATOSymb multi/main/amphibious};
},
NATOSymb equipment/mobility/barge/.pic={
\draw [fill=white] (0.6, 0.1) -- (-0.6, 0.1) to [out=-90,in=-90,looseness=0.5] (0.6, 0.1) -- cycle;
},
NATOSymb equipment/mobility/over snow/.pic={
\draw (-0.7, 0.3) to[in=180, out=-90] (-0.5, 0.1) -- (0.6, 0.1);
},
NATOSymb equipment/mobility/pack animal/.pic={
\pic [yscale=1.5, yshift=-1.85] {NATOSymb multi/lower/pack animal};
},
NATOSymb equipment/mobility/railroad/.pic={
\draw (-0.6, 0.1) -- (0.6, 0.1);
\draw [fill=white] (-0.5, 0) circle (0.1);
\draw [fill=white] (-0.3, 0) circle (0.1);
\draw [fill=white] (0.5, 0) circle (0.1);
\draw [fill=white] (0.3, 0) circle (0.1);
},
NATOSymb equipment/mobility/sled/.pic={
\draw (-0.7, 0.3) to[in=180, out=-90] (-0.5, 0.1) -- (0.5, 0.1) to[in=-90, out=0] (0.7, 0.3);
},
NATOSymb equipment/mobility/towed/.pic={
\draw (-0.6, 0.1) -- (0.6, 0.1);
\draw [fill=white] (-0.7, 0.1) circle (0.1);
\draw [fill=white] (0.7, 0.1) circle (0.1);
},
NATOSymb equipment/mobility/tracked/.pic={
\draw [fill=white] (-0.6, 0.05) arc(180:90:0.05) -- (0.55, 0.1) arc(90:0:0.05) -- (0.6, -0.05) arc(0:-90:0.05) -- (-0.55, -0.1) arc(270:180:0.05) -- cycle;
},
NATOSymb equipment/mobility/wheeled cross country/.pic={
\draw [fill=white] (-0.5, 0) circle (0.1);
\draw [fill=white] (0, 0) circle (0.1);
\draw [fill=white] (0.5, 0) circle (0.1);
\draw (-0.6, 0.1) -- (0.6, 0.1);
},
NATOSymb equipment/mobility/wheeled limited mobility/.pic={
\draw [fill=white] (-0.5, 0) circle (0.1);
\draw [fill=white] (0.5, 0) circle (0.1);
\draw (-0.6, 0.1) -- (0.6, 0.1);
},
NATOSymb equipment/mobility/wheeled semi trailer/.pic={
\draw [fill=white] (-0.5, 0) circle (0.1);
\draw [fill=white] (-0.3, 0) circle (0.1);
\draw [fill=white] (0.5, 0) circle (0.1);
\draw [fill=white] (-0.6, 0.1) -- (0.6, 0.1);
},
NATOSymb equipment/mobility/wheeled and tracked/.pic={
\draw [fill=white] (-0.25, 0.05) arc(180:90:0.05) -- (0.55, 0.1) arc(90:0:0.05) -- (0.6, -0.05) arc(0:-90:0.05) -- (-0.2, -0.1) arc(270:180:0.05) -- cycle;
\draw [fill=white] (-0.5, 0) circle (0.1);
},
%% INSTALLATION SYMBOLS %%
% MAIN %
NATOSymb installation/main/electric power/.pic={
\draw (-0.05, 0) .. controls (-0.06, 0.14) .. (0, 0.09) .. controls (0.03, 0.06) .. (0, 0.06) .. controls(-0.03, 0.06) .. (0, 0.09) .. controls(0.06, 0.14) .. (0.05, 0);
\draw ($(-55:0.125) + (0, 0.075)$) arc (-55:235:0.125) arc (415:360:0.05) -- +(0, -0.08) arc(180:360:0.05035) -- +(0, 0.08) arc (180:125:0.05) -- cycle;
},
NATOSymb installation/main/mass grave site/.pic={
\draw (0.075, 0.175) rectangle (-0.075, -0.2);
\draw (0, 0.175) -- (0, -0.2);
\draw (0.075, 0.06) -- (-0.075, 0.06);
\begin{scope}[xshift=5, yshift=0.7]
\draw (0.075, 0.175) rectangle (-0.075, -0.2);
\draw (0, 0.175) -- (0, -0.2);
\draw (0.075, 0.06) -- (-0.075, 0.06);
\end{scope}
\begin{scope}[xshift=-5, yshift=0.7]
\draw (0.075, 0.175) rectangle (-0.075, -0.2);
\draw (0, 0.175) -- (0, -0.2);
\draw (0.075, 0.06) -- (-0.075, 0.06);
\end{scope}
},
NATOSymb installation/main/mine/.pic={
\draw (-0.2, -0.2) -- (0.2, 0.15);
\draw [line cap=round, thick] ($(65:0.1) + (0.1, 0.1)$) arc (65:25:0.2); 
\begin{scope} [xscale=-1]
\draw (-0.2, -0.2) -- (0.2, 0.15);
\draw [line cap=round, thick] ($(65:0.1) + (0.1, 0.1)$) arc (65:25:0.2); 
\end{scope}
},
NATOSymb installation/main/nuclear/.pic={
\fontsize{15}{0}\selectfont
\node at (0, 0) {\Radioactivity};},
NATOSymb installation/main/printed media/.pic={
\draw (0.2, 0) -- (-0.2, 0);
\draw [ultra thick] (0, 0.1) circle (0.085);
\draw [ultra thick] (0, -0.1) circle (0.085);
},
NATOSymb installation/main/civilian telecommunications/.pic={
\draw [line join=bevel] (0.075, -0.2) -- (0, 0.1) -- (-0.075, -0.2);
\draw (0.065, -0.05) -- (-0.065, -0.05);
\draw (-0.325, 0.2) -- (-0.15, 0.125) -- (-0.15, 0.175) -- (0, 0.1) -- (0.15, 0.175) -- (0.15, 0.125) -- (0.325, 0.2);
},
% UPPER %
NATOSymb installation/upper/nuclear/.pic={
\node at (0, 0) {\Radioactivity};},
NATOSymb installation/upper/petroleum oil and lubricants/.pic={
\pic [scale=0.5] {NATOSymb multi/main/petroleum oil and lubricants};},
NATOSymb installation/upper/railroad/.pic={
\pic [scale=0.85, yshift=-4] {NATOSymb multi/upperlower/railroad};},
%% SEA SURFACE %%
NATOSymb seasurface/main/combatant/.pic={
\begin{scope}[xshift=-4.5, yshift=-5]
\draw  (0.3213,0.0534) .. controls (0.3186,0.0295) and (0.3072,0.0136) ..
  (0.2925,0.0063) .. controls (0.2777,-0.0010) and (0.2605,0.0001) ..
  (0.2461,0.0068) .. controls (0.2317,0.0136) and (0.2198,0.0265) ..
  (0.2163,0.0433) .. controls (0.2147,0.0513) and (0.2150,0.0601) ..
  (0.2179,0.0694) .. controls (0.1304,0.1129) and (0.0223,0.1961) ..
  (0.0013,0.3209) .. controls (0.0601,0.1809) and (0.1770,0.0912) ..
  (0.3213,0.0534) -- cycle(0.2304,0.0633) .. controls (0.2287,0.0570) and
  (0.2287,0.0513) .. (0.2298,0.0461) .. controls (0.2323,0.0340) and
  (0.2409,0.0245) .. (0.2520,0.0193) .. controls (0.2630,0.0141) and
  (0.2760,0.0135) .. (0.2864,0.0186) .. controls (0.2932,0.0220) and
  (0.2992,0.0277) .. (0.3033,0.0370) .. controls (0.2845,0.0413) and
  (0.2597,0.0498) .. (0.2304,0.0633) -- cycle(0.1785,0.1137) .. controls
  (0.2446,0.1612) and (0.3061,0.2300) .. (0.3214,0.3209) .. controls
  (0.2864,0.2377) and (0.2310,0.1723) .. (0.1614,0.1249)(0.1443,0.1138) ..
  controls (0.1011,0.0871) and (0.0530,0.0670) .. (0.0014,0.0535) .. controls
  (0.0041,0.0295) and (0.0154,0.0136) .. (0.0302,0.0063) .. controls
  (0.0449,-0.0010) and (0.0621,0.0001) .. (0.0765,0.0069) .. controls
  (0.0909,0.0137) and (0.1028,0.0265) .. (0.1063,0.0433) .. controls
  (0.1079,0.0513) and (0.1076,0.0602) .. (0.1047,0.0694) .. controls
  (0.1230,0.0785) and (0.1422,0.0893) .. (0.1613,0.1019)(0.0928,0.0461) ..
  controls (0.0903,0.0340) and (0.0816,0.0245) .. (0.0706,0.0193) .. controls
  (0.0596,0.0141) and (0.0466,0.0135) .. (0.0362,0.0186) .. controls
  (0.0294,0.0220) and (0.0234,0.0277) .. (0.0193,0.0370) .. controls
  (0.0381,0.0413) and (0.0629,0.0498) .. (0.0921,0.0633) -- (0.0921,0.0633) ..
  controls (0.0938,0.0570) and (0.0938,0.0512) .. (0.0928,0.0461) -- cycle;
\end{scope}
},
NATOSymb seasurface/main/surface combatant/.pic={
\fill (0, -0.2) -- (0.25, -0.05) -- (0.1, -0.05) -- (0.1, 0.025) -- (0.05, 0.025) -- (0.05, 0.075) -- (0.2, 0.075) -- (0.2, 0.135) -- (0.05, 0.135) -- (0.05, 0.2) -- (-0.05, 0.2) -- (-0.05, 0.135) -- (-0.2, 0.135) -- (-0.2, 0.075) -- (-0.05, 0.075) -- (-0.05, 0.025) -- (-0.1, 0.025) -- (-0.1, -0.05) -- (-0.25, -0.05) -- cycle;
},
NATOSymb seasurface/main/carrier/.pic={
\fill (0, -0.2) -- (0.3, 0.05) -- (-0.15, 0.05) -- (-0.15, 0.2) -- (-0.3, 0.2) -- (-0.3, 0.05) -- cycle;
},
NATOSymb seasurface/main/amphibious warfare ship/.pic={
\fill (0, -0.2) -- (0.3, 0.05) -- (0.15, 0.05) -- (0.15, 0.2) -- (-0.15, 0.2) -- (-0.15, 0.05) -- (-0.3, 0.05) -- cycle;
\fill (0, -0.2) rectangle (0.25, -0.175);
},
NATOSymb seasurface/main/mine warfare vessel/.pic={
\fill (0, -0.2) -- (0.2, 0) -- (-0.2, 0) -- cycle;
\fill (0, 0.025) circle (0.1);
\draw[ultra thick] (0, 0.025) -- (0, 0.2);
\draw[ultra thick] (0, 0.025) -- (135:0.2);
\draw[ultra thick] (0, 0.025) -- (45:0.2);
},
NATOSymb seasurface/main/sea surface decoy/.pic={
\pic [xscale=0.75, yscale=0.75, xshift=-1, yshift=-0.5]{NATOSymb multi/main/decoy};
},
NATOSymb seasurface/main/patrol/.pic={
\fill (0, -0.2) -- (0.3, 0) -- (0.125, 0) -- (0, 0.2) -- (-0.125, 0) -- (-0.3, 0) -- cycle;
},
NATOSymb seasurface/main/military speedboat/.pic={
\fill (-0.2, -0.2) -- (0.2, -0.2) -- (0.35, 0.05) -- (-0.15, 0.05) -- (-0.075, 0.2) -- (-0.175, 0.2) -- (-0.25, 0.05) -- (-0.35, 0.05) -- cycle;
},
NATOSymb seasurface/main/military rigid hull inflatable boat/.pic={
\pic {NATOSymb seasurface/main/military speedboat};
\fontsize{6}{0}\selectfont
\node [text=NATOSymb@fill] at (0, -0.075) {RB};
},
NATOSymb seasurface/main/military jetski/.pic={
\fill (0.3, -0.2) -- (-0.3, -0.2) -- (-0.35, -0.1) -- (-0.1, 0.2) -- (0, 0.2) -- (0, 0.1) -- (-0.05, 0.1) -- (-0.1, -0.05) -- (0.3, -0.05) -- (0.3, -0.2) -- cycle;
},
NATOSymb seasurface/main/navy task organization unit/.pic={
\draw (-0.25, -0.2) -- (-0.25, 0.1) -- (-0.15, 0.2);
\draw (0.25, -0.2) -- (0.25, 0.1) -- (0.15, 0.2);
},
NATOSymb seasurface/main/navy task force/.pic={
\pic {NATOSymb seasurface/main/navy task organization unit};
\node at (0, -0.05) {TF};
},
NATOSymb seasurface/main/navy task group/.pic={
\pic {NATOSymb seasurface/main/navy task organization unit};
\node at (0, -0.05) {TG};
},
NATOSymb seasurface/main/navy task unit/.pic={
\pic {NATOSymb seasurface/main/navy task organization unit};
\node at (0, -0.05) {TU};
},
NATOSymb seasurface/main/navy task element/.pic={
\pic {NATOSymb seasurface/main/navy task organization unit};
\node at (0, -0.05) {TE};
},
NATOSymb seasurface/main/convoy/.pic={
\fill (0.35, 0.175) --  (-0.35, 0.175) -- (-0.35, -0.175) -- (-0.2, -0.175) -- (-0.2, 0.025) -- (0.2, 0.025) -- (0.2, -0.175) -- (0.35, -0.175) -- cycle;
},
NATOSymb seasurface/main/non combatant/.pic={
\fill (-0.25, -0.2) -- (-0.25, 0.05) -- (-0.15, 0.05) -- (-0.15, 0.2) -- (0.15, 0.2) -- (0.15, 0.05) -- (0.25, 0.05) -- (0.25, -0.2) -- cycle;
},
NATOSymb seasurface/main/ship/.pic={
\draw (-0.2, -0.2) -- (0.2, -0.2) -- (0.35, 0.05) -- (0.15, 0.05) -- (0.15, 0.2) -- (-0.15, 0.2) -- (-0.15, 0.05) -- (-0.35, 0.05) -- cycle;
},
NATOSymb seasurface/main/cargo/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {A};
},
NATOSymb seasurface/main/container ship/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {C};
},
NATOSymb seasurface/main/dredge/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {D};
},
NATOSymb seasurface/main/roll on roll off/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {E};
},
NATOSymb seasurface/main/ferry/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {F};
},
NATOSymb seasurface/main/heavy lift/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {H};
},
NATOSymb seasurface/main/hovercraft/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {J};
},
NATOSymb seasurface/main/lash carrier/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {L};
},
NATOSymb seasurface/main/tanker/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {O};
},
NATOSymb seasurface/main/passenger ship/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {P};
},
NATOSymb seasurface/main/tug/.pic={
\pic {NATOSymb seasurface/main/ship};
\node {T};
},
NATOSymb seasurface/main/tow/.pic={
\pic {NATOSymb seasurface/main/ship};
\fontsize{7}{0}\selectfont
\node at (0,-0.08) {TW};
},
NATOSymb seasurface/main/hazardous material transport ship/.pic={
\pic {NATOSymb seasurface/main/ship};
\fontsize{7}{0}\selectfont
\node at (0,-0.08) {HZ};
},
NATOSymb seasurface/main/junk/.pic={
\pic {NATOSymb seasurface/main/ship};
\fontsize{7}{0}\selectfont
\node at (0,-0.08) {QJ};
},
NATOSymb seasurface/main/barge/.pic={
\pic {NATOSymb seasurface/main/ship};
\fontsize{7}{0}\selectfont
\node at (0,-0.08) {YB};
},
NATOSymb seasurface/main/fishing vessel/.pic={
\draw (-0.15, -0.2) -- (0.15, -0.2) -- (0.25, 0.025) -- (-0.05, 0.025) -- (-0.05, 0.125) -- (-0.2, 0.125) -- (-0.2, 0.025) -- (-0.25, 0.025) -- cycle;
\draw (0.025, 0.025) -- (0.025, 0.2);
\draw (0.025, 0.025) -- +(45:0.2);
},
NATOSymb seasurface/main/drifter/.pic={
\pic {NATOSymb seasurface/main/fishing vessel};
\fontsize{6}{0}\selectfont
\node at (0,-0.09) {DF};
},
NATOSymb seasurface/main/trawler/.pic={
\pic {NATOSymb seasurface/main/fishing vessel};
\fontsize{6}{0}\selectfont
\node at (0,-0.09) {TR};
},
NATOSymb seasurface/main/law enforcement vessel/.pic={
\pic {NATOSymb seasurface/main/ship};
\draw (0.15, 0.05) -- (0, -0.2);
\draw (0.2, 0.05) -- (0.05, -0.2);
},
NATOSymb seasurface/main/civilian boat/.pic={
\draw (-0.2, -0.2) -- (0.2, -0.2) -- (0.35, 0.05) -- (-0.15, 0.05) -- (-0.075, 0.2) -- (-0.175, 0.2) -- (-0.25, 0.05) -- (-0.35, 0.05) -- cycle;
},
NATOSymb seasurface/main/civilian rigid hull inflatable boat/.pic={
\pic {NATOSymb seasurface/main/civilian boat};
\fontsize{6}{0}\selectfont
\node at (0, -0.075) {RB};
},
NATOSymb seasurface/main/civilian speedboat/.pic={
\pic {NATOSymb seasurface/main/civilian boat};
\fontsize{6}{0}\selectfont
\node at (0, -0.075) {SP};
},
NATOSymb seasurface/main/civilian jetski/.pic={
\draw (0.3, -0.2) -- (-0.3, -0.2) -- (-0.35, -0.1) -- (-0.1, 0.2) -- (0, 0.2) -- (0, 0.1) -- (-0.05, 0.1) -- (-0.1, -0.05) -- (0.3, -0.05) -- (0.3, -0.2) -- cycle;
},
% UPPER %
NATOSymb seasurface/upper/drone equipped/.pic={
\pic [xscale=0.6, yscale=0.9, yshift=-1.5] {NATOSymb multi/main/unmanned systems};
},
%% SEA SUBSURFACE %%
% MAIN %
NATOSymb seasubsurface/main/submarine/.pic={
\fill (0.4, 0) -- (0.25, 0.15) -- (-0.25, 0.15) -- (-0.4, 0) -- (-0.25, -0.15) -- (0.25, -0.15) -- cycle;
},
NATOSymb seasubsurface/main/sea surface/.pic={
\draw [thick] (0.35, 0.05) -- (0.25, -0.05) -- (0.15, 0.05) -- (0.05, -0.05) -- (-0.05, 0.05) -- (-0.15, -0.05) -- (-0.25, 0.05) -- (-0.35, -0.05);
},
NATOSymb seasubsurface/main/surfaced submarine/.pic={
\pic [yshift=1.75, yscale=0.9]{NATOSymb seasubsurface/main/submarine};
\pic [yshift=-4, scale=0.9]{NATOSymb seasubsurface/main/sea surface};
},
NATOSymb seasubsurface/main/bottomed submarine/.pic={
\pic [yshift=1.75, yscale=0.9]{NATOSymb seasubsurface/main/submarine};
\fill (-0.35, -0.2) rectangle (0.35, -0.1);
},
NATOSymb seasubsurface/main/snorkelling submarine/.pic={
\pic [yshift=-1.75, scale=0.9]{NATOSymb seasubsurface/main/submarine};
\pic [yshift=3.75, scale=0.75]{NATOSymb seasubsurface/main/sea surface};
\fill (0.025, 0) rectangle (-0.025, 0.2);
},
NATOSymb seasubsurface/main/other submersible/.pic={
\fill (0, -0.05) circle (0.35 and 0.15);
\fill (0.1, 0) rectangle (-0.1, 0.2);
},
NATOSymb seasubsurface/main/non submarine/.pic={
\fontsize{6}{0}\selectfont
\node at (0, 0.1) {NON};
\node at (0, -0.1) {SUB};
},
NATOSymb seasubsurface/main/military diver/.pic={
\begin{scope}
\path [use as bounding box] (0.3, 0.2) rectangle (-0.3, -0.2);
\clip (0, 0.016) circle (0.075) [reverseclip];
\fill (0, 0.016) circle (0.185);
\fill (-0.25, -0.06) rectangle (0.25, 0.09);
\fill (0, 0) -- (-0.2, -0.2) -- (0.2, -0.2) -- cycle;
\end{scope}
\fill (0, 0.016) circle (0.06);
},
NATOSymb seasubsurface/main/civilian submersible/.pic={
\draw ($(0, -0.05) + (106.6:0.35 and 0.15)$) arc (106.6:433.4:0.35 and 0.15) |- (0, 0.2) -| cycle;
},
NATOSymb seasubsurface/main/torpedo/.pic={
\fill (-0.35, 0) -- (-0.3, 0.075) -- (0.25, 0.075) -- (0.35, -0.075) -- (0.35, 0.075) -- (0.25, -0.075) -- (-0.3, -0.075) -- cycle; 
},
NATOSymb seasubsurface/main/underwater decoy/.pic={
\pic [yshift=-1.5] {NATOSymb multi/main/decoy};
\fill (0.4, 0.2) rectangle (-0.4, 0.15);
},
NATOSymb seasubsurface/main/half sea mine/.pic={
\fill (0.2 ,0) arc (10:170:0.2 and 0.175) -- cycle;
\fill (0.03, 0) rectangle (-0.03, 0.2);
\scoped [shift={(150:0.1)}, rotate=45] {\fill (0.03, 0) -- (0.0125, 0.2) -- (-0.0125, 0.2) -- (-0.03, 0) -- cycle;}
\scoped [shift={(30:0.1)}, rotate=315] {\fill (0.03, 0) -- (0.0125, 0.2) -- (-0.0125, 0.2) -- (-0.03, 0) -- cycle;}
},
NATOSymb seasubsurface/main/sea mine decoy/.pic={
\pic {NATOSymb seasubsurface/main/half sea mine};
\pic [scale=0.5, yshift=-7] {NATOSymb multi/main/decoy};
},
NATOSymb seasubsurface/main/bottomed sea mine decoy/.pic={
\pic {NATOSymb seasubsurface/main/half sea mine};
\pic [scale=0.5, yshift=-5] {NATOSymb multi/main/decoy};
\fill (0.2, -0.2) rectangle (-0.2, -0.175);
},
NATOSymb seasubsurface/main/moored sea mine decoy/.pic={
\pic {NATOSymb seasubsurface/main/half sea mine};
\pic [scale=0.5, yshift=-5] {NATOSymb multi/main/decoy};
\draw [thick] (0.15, -0.2) -- (-0.15, -0.2);
\draw [thick] (0, -0.2) -- (0, 0);
},
NATOSymb seasubsurface/main/military seabed installation/.pic={
\fill (-0.25, -0.2) -- (0.25, -0.2) -- (0.25, -0.075) -- (0.05, -0.075) -- (0.05, 0.025) -- (-0.125, 0.025) -- (-0.125, 0.2) -- (-0.25, 0.2) -- cycle;
},
NATOSymb seasubsurface/main/civilian seabed installation/.pic={
\draw (-0.25, -0.2) -- (0.25, -0.2) -- (0.25, -0.075) -- (0.05, -0.075) -- (0.05, 0.025) -- (-0.125, 0.025) -- (-0.125, 0.2) -- (-0.25, 0.2) -- cycle;
},
% MINES %
NATOSymb seasubsurface/mine/sea mine/.pic={
\fill (0, -0.05) circle(0.25);
\fill (0.05, 0) rectangle (-0.05, 0.25);
\scoped [shift={(150:0.1)}, rotate=45] {\fill (0.075, 0) -- (0.02, 0.25) -- (-0.02, 0.25) -- (-0.075, 0) -- cycle;}
\scoped [shift={(30:0.1)}, rotate=315] {\fill (0.075, 0) -- (0.02, 0.25) -- (-0.02, 0.25) -- (-0.075, 0) -- cycle;}
},
NATOSymb seasubsurface/mine/sea mine-neutralised/.pic={
\begin{scope} [even odd rule]
\clip [shift={(150:0.1)}, rotate=45] (0.015, 0.26) rectangle (-0.015, -0.39) [reverseclip];
\clip [shift={(30:0.1)}, rotate=315] (0.015, 0.26) rectangle (-0.015, -0.39) [reverseclip];
\pic {NATOSymb seasubsurface/mine/sea mine};
\end{scope}
},
NATOSymb seasubsurface/mine/bottomed sea mine/.pic={
\pic [yshift=1.5] {NATOSymb seasubsurface/mine/sea mine};
\fill (0.25, -0.225) rectangle (-0.25, -0.3);
},
NATOSymb seasubsurface/mine/bottomed sea mine-neutralised/.pic={
\pic [yshift=1.5] {NATOSymb seasubsurface/mine/sea mine-neutralised};
\fill (0.25, -0.225) rectangle (-0.25, -0.3);
},
NATOSymb seasubsurface/mine/moored sea mine/.pic={
\pic [yshift=2.5] {NATOSymb seasubsurface/mine/sea mine};
\draw [thick] (0, -0.2) -- (0, -0.35);
\draw [thick] (0.175, -0.35) -- (-0.175, -0.35);
},
NATOSymb seasubsurface/mine/moored sea mine-neutralised/.pic={
\pic [yshift=2.5] {NATOSymb seasubsurface/mine/sea mine-neutralised};
\draw [thick] (0, -0.2) -- (0, -0.35);
\draw [thick] (0.175, -0.35) -- (-0.175, -0.35);
},
NATOSymb seasubsurface/mine/floating sea mine/.pic={
\pic [yshift=2.5] {NATOSymb seasubsurface/mine/sea mine};
\draw [thick] (-0.3, -0.3) -- (-0.25, -0.215) -- (-0.2, -0.3) -- (-0.15, -0.215) -- (-0.1, -0.3) -- (-0.05, -0.215) -- (0, -0.3) -- (0.05, -0.215) -- (0.1, -0.3) -- (0.15, -0.215) -- (0.2, -0.3) -- (0.25, -0.215) -- (0.3, -0.3);
},
NATOSymb seasubsurface/mine/floating sea mine-neutralised/.pic={
\pic [yshift=2.5] {NATOSymb seasubsurface/mine/sea mine-neutralised};
\draw [thick] (-0.3, -0.3) -- (-0.25, -0.215) -- (-0.2, -0.3) -- (-0.15, -0.215) -- (-0.1, -0.3) -- (-0.05, -0.215) -- (0, -0.3) -- (0.05, -0.215) -- (0.1, -0.3) -- (0.15, -0.215) -- (0.2, -0.3) -- (0.25, -0.215) -- (0.3, -0.3);
},
NATOSymb seasubsurface/mine/sea mine in other position/.pic={
\pic {NATOSymb seasubsurface/mine/sea mine};
\draw [thick] (0.3, -0.05) -- (0.2, -0.05);
\draw [thick] (-0.3, -0.05) -- (-0.2, -0.05);
},
NATOSymb seasubsurface/mine/sea mine in other position-neutralised/.pic={
\pic {NATOSymb seasubsurface/mine/sea mine-neutralised};
\draw [thick] (0.3, -0.05) -- (0.2, -0.05);
\draw [thick] (-0.3, -0.05) -- (-0.2, -0.05);
},
NATOSymb seasubsurface/mine/rising sea mine/.pic={
\pic [yshift=3.5] {NATOSymb seasubsurface/mine/sea mine};
\draw [thick] (0, -0.15) -- (0, -0.35);
\fill (0.065, -0.425) -- (-0.065, -0.425) -- (0, -0.225);
},
NATOSymb seasubsurface/mine/rising sea mine-neutralised/.pic={
\pic [yshift=3.5] {NATOSymb seasubsurface/mine/sea mine-neutralised};
\draw [thick] (0, -0.15) -- (0, -0.35);
\fill (0.065, -0.425) -- (-0.065, -0.425) -- (0, -0.225);
},
NATOSymb seasubsurface/mine/unexploded ordanance/.pic={
\fill (0, 0) circle(0.25);
\fontsize{6}{0}\selectfont
\node [text=NATOSymb@fill] {UXO};
},
%% SPACE %%
% MAIN %
NATOSymb space/main/military orbiter shuttle/.pic={
\fill ($(0, 0.3)!0.35!(0.125, -0.15)$) -- (0.125, -0.15) -- (-0.125, -0.15) -- ($(-0.125, -0.15)!0.65!(0, 0.3)$) to[in=105, out=75] cycle;
\draw (0, -0.20) -- (0, -0.15); 
},
NATOSymb space/main/civilian orbiter shuttle/.pic={
\draw ($(0, 0.3)!0.35!(0.125, -0.15)$) -- (0.125, -0.15) -- (-0.125, -0.15) -- ($(-0.125, -0.15)!0.65!(0, 0.3)$) to[in=105, out=75] cycle;
\draw (0, -0.20) -- (0, -0.15); 
},
NATOSymb space/main/military capsule/.pic={
\fill ($(0.25, -0.2)!0.1!(0, 0.5)$) -- ($(0.25, -0.2)!0.5!(0, 0.5)$) to[in=75, out=105, looseness=0.75] ($(0, 0.5)!0.5!(-0.25, -0.2)$) -- ($(0, 0.5)!0.9!(-0.25, -0.2)$) to[in=285, out=255, looseness=0.55] cycle;
},
NATOSymb space/main/civilian capsule/.pic={
\draw ($(0.25, -0.2)!0.1!(0, 0.5)$) -- ($(0.25, -0.2)!0.5!(0, 0.5)$) to[in=75, out=105, looseness=0.75] ($(0, 0.5)!0.5!(-0.25, -0.2)$) -- ($(0, 0.5)!0.9!(-0.25, -0.2)$) to[in=285, out=255, looseness=0.55] cycle;
},
NATOSymb space/main/military satellite/.pic={
\fill (0.45, 0.075) rectangle (0.15, -0.075);
\fill (0.075, 0.075) rectangle (-0.075, -0.075);
\fill (-0.45, 0.075) rectangle (-0.15, -0.075);
\draw (0.15, 0) -- (0.075, 0);
\draw (-0.15, 0) -- (-0.075, 0);
},
NATOSymb space/main/civilian satellite/.pic={
\draw (0.45, 0.075) rectangle (0.15, -0.075);
\draw (0.075, 0.075) rectangle (-0.075, -0.075);
\draw (-0.45, 0.075) rectangle (-0.15, -0.075);
\draw (0.15, 0) -- (0.075, 0);
\draw (-0.15, 0) -- (-0.075, 0);
},
NATOSymb space/main/anti satellite weapon/.pic={
\pic {NATOSymb space/main/military satellite};
\draw [-{Stealth[scale=0.75]}] (0, -0.2) -- (0, 0.2);
},
NATOSymb space/main/military astronomical satellite/.pic={
\pic {NATOSymb space/main/military satellite};
\fill (0.04, 0.075) rectangle (-0.04, 0.2);
\fill (0.02, -0.075) rectangle (-0.02, -0.2);
},
NATOSymb space/main/civilian astronomical satellite/.pic={
\pic {NATOSymb space/main/civilian satellite};
\draw (0.04, 0.075) -- (0.04, 0.2) -- (-0.04, 0.2) -- (-0.04, 0.075);
\draw (0.02, -0.075) -- (0.02, -0.2) -- (-0.02, -0.2) -- (-0.02, -0.075);
},
NATOSymb space/main/military bio satellite/.pic={
\pic [yshift=-1] {NATOSymb space/main/military satellite};
\fill (-0.075, 0.13) circle (0.07);
\fill ($(-0.075, 0.13) + (60:0.07)$) -- ++(-30:0.22) -- ++(0, -0.025) -- (-0.005, 0.13) -- cycle;
},
NATOSymb space/main/civilian bio satellite/.pic={
\pic [yshift=-1] {NATOSymb space/main/civilian satellite};
\draw (-0.075, 0.13) circle (0.07);
\draw ($(-0.075, 0.13) + (60:0.07)$) -- ++(-30:0.22) -- ++(0, -0.025) -- (-0.005, 0.13);
},
NATOSymb space/main/military communications satellite/.pic={
\pic {NATOSymb space/main/military satellite};
\draw (0, 0.075) -- (0, 0.125);
\draw (0, 0.125) arc (270:340:0.25 and 0.1);
\draw (0, 0.125) arc (270:200:0.25 and 0.1);  
},
NATOSymb space/main/civilian communications satellite/.pic={
\pic {NATOSymb space/main/civilian satellite};
\draw (0, 0.075) -- (0, 0.125);
\draw (0, 0.125) arc (270:340:0.25 and 0.1);
\draw (0, 0.125) arc (270:200:0.25 and 0.1);  
},
NATOSymb space/main/military earth observation satellite/.pic={
\pic [yshift=3.75, scale=0.9] {NATOSymb space/main/military satellite};
\draw (0, 0.065) -- +(315:0.125);
\draw (0, 0.065) -- +(225:0.125);
\fill (0, -0.12) circle (0.08);
},
NATOSymb space/main/civilian earth observation satellite/.pic={
\pic [yshift=3.75, scale=0.9] {NATOSymb space/main/civilian satellite};
\draw (0, 0.065) -- +(315:0.125);
\draw (0, 0.065) -- +(225:0.125);
\draw (0, -0.12) circle (0.08);
},
NATOSymb space/main/military minaturised satellite/.pic={
\pic [scale=0.6] {NATOSymb space/main/military satellite};
\draw (0.05, 0.2) -- (0, 0.1) -- (-0.05, 0.2); 
\draw (0.05, -0.2) -- (0, -0.1) -- (-0.05, -0.2); 
\draw (-0.4, 0.05) -- (-0.3, 0) -- (-0.4, -0.05); 
\draw (0.4, 0.05) -- (0.3, 0) -- (0.4, -0.05); 
},
NATOSymb space/main/civilian minaturised satellite/.pic={
\pic [scale=0.6] {NATOSymb space/main/civilian satellite};
\draw (0.05, 0.2) -- (0, 0.1) -- (-0.05, 0.2); 
\draw (0.05, -0.2) -- (0, -0.1) -- (-0.05, -0.2); 
\draw (-0.4, 0.05) -- (-0.3, 0) -- (-0.4, -0.05); 
\draw (0.4, 0.05) -- (0.3, 0) -- (0.4, -0.05); 
},
NATOSymb space/main/military navigational satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/military satellite};
\draw (0.1, -0.03) -- (0, 0.2) -- (-0.1, -0.03);
\draw (-0.1, 0.15) arc (180:360:0.1);
},
NATOSymb space/main/civilian navigational satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/civilian satellite};
\draw (0.1, -0.03) -- (0, 0.2) -- (-0.1, -0.03);
\draw (-0.1, 0.15) arc (180:360:0.1);
},
NATOSymb space/main/reconnaissance satellite/.pic={
\pic [yshift=1] {NATOSymb space/main/military satellite};
\draw (-0.075, -0.05) -- +(250:0.1);
\draw (-0.025, -0.05) -- +(260:0.1);
\draw (0.025, -0.05) -- +(280:0.1);
\draw (0.075, -0.05) -- +(290:0.1);
},
NATOSymb space/main/military tether satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/military satellite};
\draw (0, -0.066) -- +(30:0.3);
\fill (0, -0.066) +(30:0.375) circle(0.075);
},
NATOSymb space/main/civilian tether satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/civilian satellite};
\draw (0, -0.065) -- +(30:0.3);
\draw (0, -0.065) +(30:0.375) circle(0.075);
},
NATOSymb space/main/military weather satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/military satellite};
\node at (0, 0.07) {WX};
},
NATOSymb space/main/civilian weather satellite/.pic={
\pic [yshift=-3.75, scale=0.9] {NATOSymb space/main/civilian satellite};
\node at (0, 0.07) {WX};
},
NATOSymb space/main/civilian space station/.pic={
\begin{scope}
\clip (0.025, 0) rectangle (-0.025, 0.2) [reverseclip];
\draw (0, 0) circle (0.15 and 0.06);
\draw (0, -0.0125) circle (0.25 and 0.1);
\end{scope}
\draw (0.025, 0) -- (0.025, 0.175) arc(0:180:0.025) -- (-0.025, 0);
\begin{scope}
\clip (0, 0) circle (0.15 and 0.06) (0, -0.0125) circle (0.25 and 0.1) [reverseclip];
\draw (0.025, 0) -- (0.025, -0.175) arc(360:180:0.025) -- (-0.025, 0);
\end{scope}
},
NATOSymb space/main/military space station/.pic={
\fill [even odd rule] (0, 0) circle (0.15 and 0.06) (0, -0.0125) circle (0.25 and 0.1);
\fill (0.025, 0) -- (0.025, 0.175) arc(0:180:0.025) -- (-0.025, -0.175) arc(180:360:0.025) -- cycle;
},
% DEBRIS %
NATOSymb space/debris/small/.pic={
\begin{scope}
\clip circle (0.5);
\draw (0.15, 0.5) -- (0, 0.2) -- (-0.15, 0.5);
\draw (0.15, -0.5) -- (0, -0.2) -- (-0.15, -0.5);
\draw (0.5, 0.15) -- (0.2, 0) -- (0.5, -0.15);
\draw (-0.5, 0.15) -- (-0.2, 0) -- (-0.5, -0.15);
\end{scope}
},
NATOSymb space/debris/large/.pic={
\begin{scope}
\clip circle (0.5);
\draw (0.15, 0.2) -- (0, 0.5) -- (-0.15, 0.2);
\draw (0.15, -0.2) -- (0, -0.5) -- (-0.15, -0.2);
\draw (-0.2, 0.15) -- (-0.5, 0) -- (-0.2, -0.15);
\draw (0.2, 0.15) -- (0.5, 0) -- (0.2, -0.15);
\end{scope}
},
%% ACTIVITY %%
% FULLFRAME %
NATOSymb activity/main/explosion/.pic={
\node [starburst, draw, minimum width=0.9cm, minimum height=0.9cm, starburst point height=0.25cm, starburst points=12] {};
},
NATOSymb activity/main/improvised explosive device explosion/.pic={
\node [starburst, draw, minimum width=0.9cm, minimum height=0.9cm, starburst point height=0.25cm, starburst points=12] {};
\fontsize{6}{0}\selectfont
\node {IED};
},
NATOSymb activity/main/radio and television psychological operations/.pic={
\pic {NATOSymb multi/main/signal/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/psychological operations};
},
% MAIN %
NATOSymb activity/main/arrest/.pic={
\pic [scale=0.75] {NATOSymb multi/main/individual};
\draw circle (0.2);
},
NATOSymb activity/main/automobile/.pic={
\begin{scope}
\clip (0.2, -0.15) circle (0.05) (-0.2, -0.15) circle (0.05) [reverseclip];
\draw (0.3, -0.15) -- (-0.3, -0.15) -- (-0.3, 0.025) -- (-0.1, 0.025) -- (-0.1, 0.2) -- (0.1, 0.2) -- (0.1, 0.025) -- (0.3, 0.025) -- cycle;
\draw (0.075, 0.025) rectangle (-0.075, 0.175);  
\end{scope}
\draw (0.2, -0.15) circle (0.05);
\draw (-0.2, -0.15) circle (0.05);
},
NATOSymb activity/main/drive by shooting/.pic={
\draw (0.25, -0.15) circle (0.05);
\draw (-0.25, -0.15) circle (0.05);
\draw (0.3, -0.1) -- (-0.3, -0.1);
\draw (0, -0.1) -- (0, 0.2);
\draw (0.075, 0.1) -- (0, 0.2) -- (-0.075, 0.1);
},
NATOSymb activity/main/graffiti/.pic={
\draw (0.05, 0.2) arc (90:270:0.05) arc (450:270:0.05) arc (90:270:0.05) arc (450:270:0.05);
\draw (-0.05, 0.2) arc (90:270:0.05) arc (450:270:0.05) arc (90:270:0.05) arc (450:270:0.05);
},
NATOSymb activity/main/patrolling/.pic={
\draw (0.3, 0.05) -- (-0.05, 0.05) -- (0.05, -0.05) -- (-0.4, -0.05);
\draw (-0.3, 0) -- (-0.4, -0.05) -- (-0.3, -0.1); 
\fontsize{4}{0}\selectfont
\node [anchor=west] at (0.3, 0.05) {P}; 
},
NATOSymb activity/main/poisoning/.pic={
\draw (0, 0.055) circle (0.145);
\draw (0.3, 0) -- (-0.3, -0.2);
\draw (-0.3, 0) -- (0.3, -0.2);
},
NATOSymb activity/main/searching/.pic={
\draw (-0.4, 0) arc (180:0:0.1) arc (180:360:0.1) arc (180:0:0.1) arc (180:270:0.1) -- +(0.1, 0);
\draw (0.3, -0.05) -- (0.4, -0.1) -- (0.3, -0.15); 
},
% UPPER %
NATOSymb activity/upper/house to house/.pic={
\draw (-0.075, -0.1) rectangle (0.075, 0.05);
\draw (-0.075, 0.05) -- (-0.1, 0.05) -- (0, 0.125) -- (0.1, 0.05) -- (0.075, 0.05);
},
%% MULTIPLE CLASS SYMBOLS %%
% FULLFRAME %
NATOSymb multi/main/signal/friendly/.pic={
\clip \clipfriendly;
\draw (-0.75, 0.5) -- (0, -0.1) -- (0, 0.1) -- (0.75, -0.5);
},
NATOSymb multi/main/signal/hostile/.pic={
\clip \cliphostile;
\draw (-0.6, 0.5) -- (0, -0.1) -- (0, 0.1) -- (0.6, -0.5);
},
NATOSymb multi/main/signal/neutral/.pic={
\clip \clipneutral;
\draw (-0.5, 0.5) -- (0, -0.1) -- (0, 0.1) -- (0.5, -0.5);
},
NATOSymb multi/main/signal/unknown/.pic={
\clip \clipunknown;
\draw (-0.75, 0.5) -- (0, -0.1) -- (0, 0.1) -- (0.75, -0.5);
},
% MAIN %
NATOSymb multi/main/amphibious/.pic={
\draw (0.81, 0) to[out=90,in=90,looseness=2.25] (0.63, 0) to[out=-90,in=-90,looseness=2.25] (0.45, 0) to[out=90,in=90,looseness=2.25] (0.27, 0) to[out=-90,in=-90,looseness=2.25] (0.09, 0) to[out=90,in=90,looseness=2.25] (-0.09, 0) to[out=-90,in=-90,looseness=2.25] (-0.27, 0) to[out=90,in=90,looseness=2.25] (-0.45, 0) to[out=-90,in=-90,looseness=2.25] (-0.63, 0) to[out=90,in=90,looseness=2.25] (-0.81, 0);
},
NATOSymb multi/main/antenna/.pic={
\draw (0, -0.3) -- (0, 0.3);
\draw (-0.125, 0.3) -- (0, 0.2) -- (0.125, 0.3);
},
NATOSymb multi/main/ammunition/.pic={
\draw (0.175, -0.175) -- (-0.175,-0.175);
\draw (0.125, -0.175) -- (0.125, 0) to[out=90,in=90,looseness=2.75] (-0.125, 0) -- (-0.125, -0.175);
},
NATOSymb multi/main/armoured/.pic={
\draw (-0.275, 0.2) arc(90:270:0.2) -- (0.275, -0.2) arc(270:450:0.2) -- cycle;
},
NATOSymb multi/main/bridge/.pic={
\draw (0.35, -0.15) -- (0.25, -0.05) -- (-0.25, -0.05) -- (-0.35, -0.15);
\scoped[yscale=-1]{\draw (0.35, -0.15) -- (0.25, -0.05) -- (-0.25, -0.05) -- (-0.35, -0.15);} 
},
NATOSymb multi/main/petroleum oil and lubricants/.pic={
\draw (0, -0.175) -- (0, 0) -- (0.15, 0.175) -- (-0.15, 0.175) -- (0, 0);
},
NATOSymb multi/main/chemical biological radiological nuclear/.pic={
\draw [ultra thick] (0.15,-0.2) arc(0:90:0.45 and 0.375);
\draw [fill] (-0.29,0.1) circle(0.096);
\begin{scope}[xscale=-1]
\draw [ultra thick] (0.15,-0.2) arc(0:90:0.45 and 0.375);
\draw [fill] (-0.29,0.1) circle(0.096);
\end{scope}
},
NATOSymb multi/main/drill/.pic={
\fill (-0.1,-0.2) -- (0.1,-0.2) -- (0.2, 0.2) -- (-0.2, 0.2) -- cycle;
},
NATOSymb multi/main/decoy/.pic={
\fill (0.2, 0) -- (0.4, 0.15) -- (0.4, -0.15) -- cycle;
\fill (-0.1, 0) -- (0.1, 0.15) -- (0.1, -0.15) -- cycle;
\fill (-0.4, 0) -- (-0.2, 0.15) -- (-0.2, -0.15) -- cycle;
},
NATOSymb multi/main/diver/.pic={
\draw (0, 0.016) circle (0.075);
\draw (0, 0.016) circle (0.185);
\begin{scope}
\path [use as bounding box] (0.3, 0.2) rectangle (-0.3, -0.2);
\clip (0, 0.016) circle (0.185) [reverseclip];
\draw (-0.25, -0.06) rectangle (0.25, 0.09);
\draw (0, 0) -- (-0.2, -0.2) -- (0.2, -0.2) -- cycle;
\end{scope}
},
NATOSymb multi/main/individual/.pic={
\draw (0, 0.125) circle (0.075);
\draw (0, 0.05) -- (0, -0.2);
\draw (0.075,0) -- (-0.075,0);
},
NATOSymb multi/main/aviation fixed wing/.pic={
\fill (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\begin{scope}[xscale=-1]
\fill (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\end{scope}},
NATOSymb multi/main/aviation rotary wing/.pic={
\fill (0.44, 0.15) -- (0.44, -0.15) -- (-0.44, 0.15) -- (-0.44, -0.15) -- cycle;},
NATOSymb multi/main/field artillery/.pic={
\fill circle(0.2);},
NATOSymb multi/main/killing victim/.pic={
\pic {NATOSymb multi/main/individual};
\draw (-0.41, 0.2) -- (0.41, -0.2);
},
NATOSymb multi/main/victim of an attempted crime/.pic={
\pic {NATOSymb multi/main/individual};
\draw [dashed] (-0.41, 0.2) -- (0.41, -0.2);
},
NATOSymb multi/main/maintenance/.pic={
\draw [ultra thick] (0.275, 0) -- (-0.275, 0);
\draw [ultra thick] (0.4, -0.15) .. controls (0.275, -0.145) .. (0.275, 0) .. controls (0.275, 0.145) .. (0.4, 0.15);
\begin{scope} [xscale=-1]
\draw [ultra thick] (0.4, -0.15) .. controls (0.275, -0.145) .. (0.275, 0) .. controls (0.275, 0.145) .. (0.4, 0.15);
\end{scope}
},
NATOSymb multi/main/medic/.pic={
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\begin{scope}[rotate=90]
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\end{scope}
},
NATOSymb multi/main/medical/.pic={
\draw (M.north) -- (M.south);
\draw (M.east) -- (M.west);
},
NATOSymb multi/main/medical treatment facility/.pic={
\draw (M.north) -- (M.south);
\draw (M.east) -- (M.west);
\draw ($(M.east)!0.25!(M.west) + (0, 0.2)$) -- ($(M.east)!0.25!(M.west) + (0, -0.2)$);
\draw ($(M.east)!0.75!(M.west) + (0, 0.2)$) -- ($(M.east)!0.75!(M.west) + (0, -0.2)$);
},
NATOSymb multi/main/mine/.pic={
\pic [yscale=0.5, xscale=0.6] {NATOSymb multi/main/field artillery};
\draw [thick] (0, -0.2) -- (0, 0.2);
\begin{scope}[rotate=25]
\draw [thick] (0, -0.2) -- (0, 0.2);
\end{scope}
\begin{scope}[rotate=-25]
\draw [thick] (0, -0.2) -- (0, 0.2);
\end{scope}
},
NATOSymb multi/main/person/.pic={
\draw (0, 0.125) circle (0.075);
\draw (0, 0.05) -- (0, -0.1);
\draw (0.05, -0.2) -- (0, -0.1) -- (-0.05, -0.2);
\draw (0.075,0) -- (-0.075,0);
},
NATOSymb multi/main/psychological operations/.pic={
\draw [line join=round] (0.15, 0.2) -- (0.15, -0.2) -- (0.025, -0.08) -- (-0.15, -0.08) -- (-0.15, 0.08) -- (0.025, 0.08) -- cycle;
\draw (0.15, -0.1) -- (0.225, -0.1);
\draw (0.15, -0.0325) -- (0.225, -0.0325);
\draw (0.15, 0.0325) -- (0.225, 0.0325);
\draw (0.15, 0.1) -- (0.225, 0.1);
},
NATOSymb multi/main/psychological operations filled/.pic={
\draw [line join=round, fill] (0.15, 0.2) -- (0.15, -0.2) -- (0.025, -0.08) -- (-0.15, -0.08) -- (-0.15, 0.08) -- (0.025, 0.08) -- cycle;
\draw (0.15, -0.1) -- (0.225, -0.1);
\draw (0.15, -0.0325) -- (0.225, -0.0325);
\draw (0.15, 0.0325) -- (0.225, 0.0325);
\draw (0.15, 0.1) -- (0.225, 0.1);
},
NATOSymb multi/main/radar/.pic={
\begin{scope} [yshift=1]
\draw (135:0.225) arc (150:290:0.26);
\begin{scope}
\clip (190:0.2) rectangle (0.3, 0.2);
\draw (180:0.2) -- (0,0.16) -- (0,0) -- (0.2, 0.16);
\end{scope}
\end{scope}
},
NATOSymb multi/main/sailing boat/.pic={
\draw (-0.15, -0.2) -- (0.15, -0.2) -- (0.25, -0.025) -- (-0.25, -0.025) -- cycle;
\draw (0, -0.025) -- (0, 0.2);
\draw (0.025, 0) -- (0.025, 0.19) -- (0.225, 0) -- cycle;
},
NATOSymb multi/main/transportation/.pic={
\draw (0, 0) circle (0.2);
\draw (0:-0.2) -- (0:0.2);
\draw (90:-0.2) -- (90:0.2);
\draw (45:-0.2) -- (45:0.2);
\draw (-45:-0.2) -- (-45:0.2);
},
NATOSymb multi/main/naval/.pic={
\fontsize{15}{0}\selectfont
\node at (0, 0) {$\anchor$};},
NATOSymb multi/main/unmanned systems/.pic={
\fill (0, -0.1) -- (0.45, 0.05) -- (0.45,0.1) -- (0, 0.025) -- (-0.45, 0.1) -- (-0.45, 0.05) -- cycle;},
NATOSymb multi/main/civilian unmanned systems/.pic={
\draw (0, -0.1) -- (0.45, 0.05) -- (0.45,0.1) -- (0, 0.025) -- (-0.45, 0.1) -- (-0.45, 0.05) -- cycle;},
NATOSymb multi/main/quartermaster/.pic={
\draw (0.325, 0.05) circle (0.125);
\draw (0.2, 0.05) -- (-0.45, 0.05);
\draw (-0.35, 0.05) -- (-0.35, -0.15);
\draw (-0.2, 0.05) -- (-0.2, -0.15);
\draw (-0.35, -0.075) -- (-0.2, -0.075);
},
NATOSymb multi/main/engineer/.pic={
\draw (0.4, -0.2) -- (0.4, 0.2) -- (-0.4, 0.2) -- (-0.4, -0.2);
\draw (0, 0.2) -- (0, -0.2);
},
NATOSymb multi/main/medical/.pic={
\draw (M.north) -- (M.south);
\draw (M.east) -- (M.west);
},
NATOSymb multi/main/major end/.pic={
\draw [thick] (0.3, 0.05) arc (55:125:0.5);
\fill (0.35, 0) circle (0.1);
\fill (-0.35, 0) circle (0.1);
},
NATOSymb multi/main/repair parts/.pic={
\draw (0, 0) circle (0.1);
\begin{scope}
\clip  (0, 0) circle (0.1) [reverseclip];
\draw  (90:0.2) -- (90:-0.2);
\draw  (45:0.2) -- (45:-0.2);
\draw  (-45:0.2) -- (-45:-0.2);
\draw  (0:0.2) -- (0:-0.2);
\end{scope}
},
NATOSymb multi/main/missile/.pic={
\draw (0, 0.425) -- (0, -0.4);
\draw (0.15, -0.4) -- (0.15, 0.25) to[out=90,in=90,looseness=2] (-0.15, 0.25) -- (-0.15, -0.4);
},
NATOSymb multi/main/sensor/.pic={
\fill (0, -0.2) arc (180:90:0.2) arc (270:180:0.2) arc (0:-90:0.2) arc (90:0:0.2) -- cycle;
},
NATOSymb multi/main/water/.pic={
\draw (-0.3, 0.05) -- (0, 0.05) to[in=90, out=0] (0.3, -0.2);
\draw (0, 0.05) -- (0, 0.2);
\draw (0.075, 0.2) -- (-0.075, 0.2);
},
NATOSymb multi/main/water purification/.pic={
\pic {NATOSymb multi/main/water};
\fontsize{4}{0}\selectfont
\node at (-0.1,-0.1) {PURE};
},
% UPPER %
NATOSymb multi/upper/naval/.pic={
\node at (0, 0) {$\anchor$};
},
NATOSymb multi/upper/medic/.pic={
\pic [scale=0.7] {NATOSymb multi/main/medic};
},
NATOSymb multi/upper/runway/.pic={
\draw (-0.1, -0.125) -- (0.025, 0.1);
\draw (-0.15, -0.075) -- (0.15, -0.075);
},
% LOWER %
NATOSymb multi/lower/pack animal/.pic={
\draw (-0.25,-0.05) -- (-0.125,0.125) -- (0, -0.05) -- (0.125, 0.125) -- (0.25, -0.05);
},
% UPPER/LOWER %
NATOSymb multi/upperlower/maintenance/.pic={
\pic [scale=0.5, yshift=-1.75] {NATOSymb multi/main/maintenance};
},
NATOSymb multi/upperlower/railroad/.pic={
\draw (0.36, 0.12) -- (-0.36, 0.12);
\draw (0.3, 0.06) circle (0.06);
\draw (0.18, 0.06) circle (0.06);
\draw (-0.3, 0.06) circle (0.06);
\draw (-0.18, 0.06) circle (0.06);
},
%% SUPPLY %%
NATOSymb supply/class 1/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb main/text={I}};
},
NATOSymb supply/class 2/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb main/text={II}};
},
NATOSymb supply/class 3/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/petroleum oil and lubricants};
},
NATOSymb supply/class 4/.pic={
\pic {NATOSymb land/main/supply\NATOSymb@selectedfaction};
\pic {NATOSymb main/text={IV}};
},
NATOSymb supply/class 5/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/ammunition};
},
NATOSymb supply/class all/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb main/text={ALL}};
},
NATOSymb supply/class US 1/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\draw (0.075, 0.2) to[out=210, in=150, looseness=1] (0.075, -0.2) to[out=180, in=180, looseness=1.5] (0.075, 0.2) -- cycle;
},
NATOSymb supply/class US 2/.pic={
\pic {NATOSymb land/main/supply\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/quartermaster};
},
NATOSymb supply/class US 3/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/petroleum oil and lubricants};
},
NATOSymb supply/class US 4/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/engineer};
},
NATOSymb supply/class US 5/.pic={
\pic {NATOSymb land/main/supply\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/ammunition};
},
NATOSymb supply/class US 6/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/person};
},
NATOSymb supply/class US 7/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/major end};
},
NATOSymb supply/class US 8/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\draw (0, -0.2) -- (M.north);
\pic {NATOSymb supply/medicalbar/\NATOSymb@selectedfaction};
},
NATOSymb supply/class US 9/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb multi/main/repair parts};
},
NATOSymb supply/class US 10/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\pic {NATOSymb main/text={CA}};
},
NATOSymb supply/medicalbar/friendly/.pic={
\draw (0.75, 0.15) -- (-0.75, 0.15);
},
NATOSymb supply/medicalbar/hostile/.pic={
\draw (0.5, 0.2) -- (-0.5, 0.2);
},
NATOSymb supply/medicalbar/neutral/.pic={
\draw (0.5, 0.15) -- (-0.5, 0.15);
},
NATOSymb supply/medicalbar/unknown/.pic={
\draw (0.65, 0.2) -- (-0.65, 0.2);
},
NATOSymb supply/text/.pic={
\pic {NATOSymb land/main/supply/\NATOSymb@selectedfaction};
\fontsize{10}{0}\selectfont
\node {#1};
},
%% TEMPLATES %%
NATOSymb main/text/.pic={
\fontsize{10}{0}\selectfont
\node {#1};},
NATOSymb main/textfull/.pic={
\fontsize{15}{0}\selectfont
\node {#1};},
NATOSymb main/textsquashed/.pic={
\fontsize{10}{0}\selectfont
\node [xscale=0.7] {#1};},
NATOSymb main/textsmall/.pic={
\fontsize{6}{0}\selectfont
\node {#1};},
NATOSymb main/textsmallsquashed/.pic={
\fontsize{6}{0}\selectfont
\node [xscale=0.7] {#1};},
%% BOILERPLATE %%
/NATOSymb/.search also={/tikz},
/NATOSymb/.cd,
fill/.code={\colorlet{NATOSymb@fill}{#1}},
line/.store in=\NATOSymb@line,
shape/.store in=\NATOSymb@shape,
symbC/.store in=\NATOSymb@symbC,
symbCT/.store in=\NATOSymb@symbCT,
symbU/.store in=\NATOSymb@symbU,
symbUT/.store in=\NATOSymb@symbUT,
symbL/.store in=\NATOSymb@symbL,
symbLT/.store in=\NATOSymb@symbLT,
monochrome/.style={/NATOSymb/fill=white},
unclear/.style={/NATOSymb/line=densely dotted},
fill=gray,
line=solid,
}
\newcommand*{\clipfriendly}{
   (-0.75, -0.5) rectangle (0.75, 0.5)
}
\newcommand*{\cliphostile}{
  (0, -0.705) -- (-0.705, 0) -- (0, 0.705) -- (0.705, 0) -- cycle
}
\newcommand*{\clipneutral}{
   (0.5, -0.5) rectangle (-0.5, 0.5)
}
\newcommand*{\clipunknown}{
 (45:0.5) to[out=90,in=90,looseness=1.7] (135:0.5) to[out=180,in=180,looseness=1.7] (225:0.5) to[out=270, in=270, looseness=1.7] (315:0.5) to[out=0, in=0, looseness=1.7] (45:0.5) -- cycle
}
\acrodef{High}[HA]{}
\acrodef{Medium}[MA]{}
\acrodef{Low}[LA]{}
\acrodef{HighS}[H]{}
\acrodef{MediumS}[M]{}
\acrodef{LowS}[L]{}
\NewDocumentCommand\NATOAir{ o D(){0,0} d() g}{
\tikzset{%	
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=air/none, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=air/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=air/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=air/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=air/unknown, fill=unknownA},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=}, 
   main/military/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MIL},
   main/civilian/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CIV},
   main/military fixed wing/.style={/NATOSymb/.cd, symbC=multi/main/aviation fixed wing},
   main/civilian fixed wing/.style={/NATOSymb/.cd, symbC=air/main/civilian fixed wing},
   main/military rotary wing/.style={/NATOSymb/.cd, symbC=multi/main/aviation rotary wing},
   main/civilian rotary wing/.style={/NATOSymb/.cd, symbC=air/main/civilian rotary wing},
   main/military balloon/.style={/NATOSymb/.cd, symbC=air/main/military balloon},
   main/civilian balloon/.style={/NATOSymb/.cd, symbC=air/main/civilian balloon},
   main/military airship/.style={/NATOSymb/.cd, symbC=air/main/military airship},
   main/civilian airship/.style={/NATOSymb/.cd, symbC=air/main/civilian airship},
   main/unmanned aerial vehicle/.style={/NATOSymb/.cd, symbC=multi/main/unmanned systems},
   main/air decoy/.style={/NATOSymb/.cd, symbC=air/main/air decoy},
   main/medic/.style={/NATOSymb/.cd, symbC=multi/main/medic},
   main/attack/.style={/NATOSymb/.cd, symbC=main/text, symbCT=A},
   main/bomber/.style={/NATOSymb/.cd, symbC=main/text, symbCT=B},
   main/cargo/.style={/NATOSymb/.cd, symbC=main/text, symbCT=C},
   main/fighter/.style={/NATOSymb/.cd, symbC=main/text, symbCT=F},
   main/jammer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=J},
   main/tanker/.style={/NATOSymb/.cd, symbC=main/text, symbCT=K},
   main/patrol/.style={/NATOSymb/.cd, symbC=main/text, symbCT=P},
   main/reconnaissance/.style={/NATOSymb/.cd, symbC=main/text, symbCT=R},
   main/trainer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=T},
   main/utility/.style={/NATOSymb/.cd, symbC=main/text, symbCT=U},
   main/vertical short takeoff and landing/.style={/NATOSymb/.cd, symbC=main/text, symbCT=V},
   main/airborne command post/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ACP},
   main/airborne early warning/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AEW},
   main/anti surface warfare/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=ASUW},
   main/anti submarine warfare/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ASW},
   main/communications/.style={/NATOSymb/.cd, symbC=main/text, symbCT=COM},
   main/combat search and rescue/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=CSAR},
   main/electronic support measures/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ESM},
   main/government/.style={/NATOSymb/.cd, symbC=main/text, symbCT=GOV},
   main/mine countermeasures/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MCM},
   main/personnel recovery/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PR},
   main/passenger/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PX},
   main/search and rescue/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SAR},
   main/suppression of enemy air defence/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=SEAD},
   main/special operations forces/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SOF},
   main/ultra light/.style={/NATOSymb/.cd, symbC=main/text, symbCT=UL},
   main/very important person/.style={/NATOSymb/.cd, symbC=main/text, symbCT=VIP},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=}, 
   upper/medical evacuation/.style={/NATOSymb/.cd, symbU=multi/upper/medic},
   upper/cargo/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=C}, 
   upper/jammer/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=J},
   upper/tanker/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=K},
   upper/patrol/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=J}, 
   upper/reconnaissance/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=P}, 
   upper/jammer/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=R}, 
   upper/trainer/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=T}, 
   upper/utility/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=U}, 
   upper/airborne command post/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ACP}, 
   upper/airborne early warning/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=AEW},
   upper/anti surface warfare/.style={/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=ASUW},    
   upper/anti submarine warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ASW}, 
   upper/communications/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=COM},   
   upper/combat search and rescue/.style={/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=CSAR}, 
   upper/electronic support measures/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ESM},   
   upper/government flight/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=GOV},   
   upper/mine countermeasures/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCM},   
   upper/personnel recovery/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=PR},   
   upper/passenger plane/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=PX},
   upper/search and rescue/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SAR},        
   upper/suppression of enemy air defenses/.style={/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=SEAD},
   upper/special operations forces/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SOF},       
   upper/ultra light/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=UL},   
   upper/photographic/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=PH},   
   upper/very important person/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=VIP},  
   upper/escort/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=E},
   upper/intensive care/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=IC},
   lower/.is choice,
   lower/none/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/light/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=L},      
   lower/medium/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=M},    
   lower/heavy/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=H},    
   lower/boom only/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=B},    
   lower/drogue only/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D},
   lower/boom and drogue/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=B/D}, 
   lower/close range/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=CR},      
   lower/short range/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=SR},     
   lower/medium range/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=MR},
   lower/long range/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=LR},
   track number/.store in=\NATOSymb@symbA,
   call sign/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   nation/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   speed leader/.code 2 args={\draw (0,0) -- (##1:##2);},
   speed leader/.value required,
   track number=,
   call sign=,
   position and movement=,
   nation=,
   additional information=,     
   main=none,
   upper=none,
   lower=none,
   #1,
 }%
\begin{scope}[shift={(#2)}, local bounding box=#3]
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
 \pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
 \pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
 \pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
 \fontsize{6}{0}\selectfont
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\NewDocumentCommand\NATOMissile{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=air/missile, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=air/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=air/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=air/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=air/unknown, fill=unknownA},
   left/.is choice,
   left/none/.style= {/NATOSymb/.cd, symbUT=}, 
   left/air/.style= {/NATOSymb/.cd, symbUT=A}, 
   left/surface/.style= {/NATOSymb/.cd, symbUT=S}, 
   left/sub surface/.style= {/NATOSymb/.cd, symbUT=SU}, 
   left/space/.style= {/NATOSymb/.cd, symbUT=SP}, 
   left/anti ballistic/.style= {/NATOSymb/.cd, symbUT=AB}, 
   left/ballistic/.style= {/NATOSymb/.cd, symbUT=B}, 
   left/cruise/.style= {/NATOSymb/.cd, symbUT=C},
   right/.is choice,
   right/none/.style= {/NATOSymb/.cd, symbLT=}, 
   right/air/.style= {/NATOSymb/.cd, symbLT=A}, 
   right/surface/.style= {/NATOSymb/.cd, symbLT=S}, 
   right/sub surface/.style= {/NATOSymb/.cd, symbLT=SU}, 
   right/space/.style= {/NATOSymb/.cd, symbLT=SP}, 
   right/launched/.style= {/NATOSymb/.cd, symbLT=L}, 
   right/missile/.style= {/NATOSymb/.cd, symbLT=M},
   track number/.store in= \NATOSymb@symbA,
   call sign/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   nation/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   track number=,
   call sign=,
   position and movement=,
   nation=,
   additional information=,      
   faction=none,
   left=none,
   right=none,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
\fontfamily{phv}\fontseries{bx}\selectfont
\pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
\draw[fill=unknownA] (0, 0.3) -- (-0.05, 0.2) -- (-0.05, -0.2) -- (-0.125,-0.3) -- (-0.125,-0.4) -- (0, -0.265) -- (0.125,-0.4) -- (0.125,-0.3) -- (0.05,-0.2) -- (0.05,0.2) -- cycle;
\fontsize{6}{0}\selectfont
\node at (0.34, 0) {\NATOSymb@symbLT};
\node at (-0.34, 0) {\NATOSymb@symbUT};
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\newif\iftaskforce
\newif\iffeintdummy
\NewDocumentCommand\NATOLand{ o D(){0,0} d() g}{
\tikzset{
  /NATOSymb/.cd,
   selectedfaction/.store in=\NATOSymb@selectedfaction,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=land/none, fill=white, selectedfaction=neutral},
   faction/friendly/.style={/NATOSymb/.cd, shape=land/friendly, fill=friendlyA, selectedfaction=friendly},
   faction/hostile/.style={/NATOSymb/.cd, shape=land/hostile, fill=hostileA, selectedfaction=hostile},
   faction/neutral/.style={/NATOSymb/.cd, shape=land/neutral, fill=neutralA, selectedfaction=neutral},
   faction/unknown/.style={/NATOSymb/.cd, shape=land/unknown, fill=unknownA, selectedfaction=unknown},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=}, 
   main/air assault with organic lift/.style={/NATOSymb/.cd, symbC=land/main/air assault with organic lift/\NATOSymb@selectedfaction},
   main/air defence/.style={/NATOSymb/.cd, symbC=land/main/air defence/\NATOSymb@selectedfaction},
   main/air and naval gunfire liaison company/.style={/NATOSymb/.cd, symbC=land/main/air and naval gunfire liaison company/\NATOSymb@selectedfaction},
   main/broadcast transmitter antenna/.style={/NATOSymb/.cd, symbC=multi/main/antenna},
   main/psychological operations broadcast/.style={/NATOSymb/.cd, symbC=land/main/psychological operations broadcast},
   main/amphibious/.style={/NATOSymb/.cd, symbC=land/main/amphibious/\NATOSymb@selectedfaction},
   main/analysis/.style={/NATOSymb/.cd, symbC=land/main/analysis},
   main/analysis electronic warfare/.style={/NATOSymb/.cd, symbC=land/main/analysis electronic warfare},
   main/intercept/.style={/NATOSymb/.cd, symbC=land/main/intercept},
   main/intercept electronic warfare/.style={/NATOSymb/.cd, symbC=land/main/intercept electronic warfare},
   main/anti tank anti armour/.style={/NATOSymb/.cd, symbC=land/main/anti tank anti armour/\NATOSymb@selectedfaction},
   main/corps support/.style={/NATOSymb/.cd, symbC=land/main/corps support/\NATOSymb@selectedfaction},
   main/signal/.style={/NATOSymb/.cd, symbC=multi/main/signal/\NATOSymb@selectedfaction},
   main/signal radio/.style={/NATOSymb/.cd, symbC=land/main/signal radio},
   main/signal radio relay/.style={/NATOSymb/.cd, symbC=land/main/signal radio relay},
   main/signal radio teletype centre/.style={/NATOSymb/.cd, symbC=land/main/signal radio teletype centre},
   main/signal tactical satellite/.style={/NATOSymb/.cd, symbC=land/main/signal tactical satellite},
   main/direction finding/.style={/NATOSymb/.cd, symbC=land/main/direction finding},
   main/direction finding electronic warfare/.style={/NATOSymb/.cd, symbC=land/main/direction finding electronic warfare},
   main/headquarters/.style={/NATOSymb/.cd, symbC=land/main/headquarters/\NATOSymb@selectedfaction},
   main/infantry/.style={/NATOSymb/.cd, symbC=land/main/infantry/\NATOSymb@selectedfaction},
   main/jamming/.style={/NATOSymb/.cd, symbC=land/main/jamming/\NATOSymb@selectedfaction},
   main/jamming electronic warfare/.style={/NATOSymb/.cd, symbC=land/main/jamming electronic warfare},
   main/main gun system/.style={/NATOSymb/.cd, symbC=land/main/main gun system/\NATOSymb@selectedfaction},
   main/medical/.style={/NATOSymb/.cd, symbC=multi/main/medical},
   main/medical treatment facility/.style={/NATOSymb/.cd, symbC=multi/main/medical treatment facility},
   main/motorized/.style={/NATOSymb/.cd, symbC=land/main/motorized},
   main/reconnaissance/.style={/NATOSymb/.cd, symbC=land/main/reconnaissance/\NATOSymb@selectedfaction},
   main/search/.style={/NATOSymb/.cd, symbC=land/main/search},
   main/search electronic warfare/.style={/NATOSymb/.cd, symbC=land/main/search electronic warfare},
   main/supply/.style={/NATOSymb/.cd, symbC=land/main/supply/\NATOSymb@selectedfaction},
   main/above corps support/.style={/NATOSymb/.cd, symbC=land/main/above corps support/\NATOSymb@selectedfaction},
   main/administrative/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ADM},
   main/air traffic services/.style={/NATOSymb/.cd, symbC=land/main/air traffic services},
   main/ammunition/.style={/NATOSymb/.cd, symbC=multi/main/ammunition},
   main/armoured/.style={/NATOSymb/.cd, symbC=multi/main/armoured},
   main/aviation fixed wing/.style={/NATOSymb/.cd, symbC=multi/main/aviation fixed wing},
   main/aviation rotary wing/.style={/NATOSymb/.cd, symbC=multi/main/aviation rotary wing},
   main/aviation composite fixed wing and rotary wing/.style={/NATOSymb/.cd, symbC=land/main/aviation composite fixed wing and rotary wing},
   main/band/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=BAND},
   main/chemical biological radiological nuclear defence/.style={/NATOSymb/.cd, symbC=multi/main/chemical biological radiological nuclear},
   main/civil affairs/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CA},
   main/civilian military cooperation/.style={/NATOSymb/.cd, symbC=land/main/civilian military cooperation},
   main/combat/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CBT},
   main/combat service support/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CSS},
   main/combat support/.style={/NATOSymb/.cd, symbC=land/main/combat support},
   main/combined arms/.style={/NATOSymb/.cd, symbC=land/main/combined arms},
   main/counter intelligence/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CI},
   main/criminal investigation division/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CID},
   main/diving/.style={/NATOSymb/.cd, symbC=multi/main/diver},
   main/dog/.style={/NATOSymb/.cd, symbC=main/text, symbCT=DOG},
   main/drilling/.style={/NATOSymb/.cd, symbC=multi/main/drilling},
   main/electronic ranging/.style={/NATOSymb/.cd, symbC=land/main/electronic ranging},
   main/electronic warfare/.style={/NATOSymb/.cd, symbC=main/text, symbCT=EW},
   main/engineer/.style={/NATOSymb/.cd, symbC=multi/main/engineer},
   main/armoured engineer/.style={/NATOSymb/.cd, symbC=multi/main/armoured engineer},
   main/electronic ordinance disposal/.style={/NATOSymb/.cd, symbC=main/text, symbCT=EOD},
   main/field artillery/.style={/NATOSymb/.cd, symbC=multi/main/field artillery},
   main/field artillery observer/.style={/NATOSymb/.cd, symbC=land/main/field artillery observer},
   main/self propelled field artillery/.style={/NATOSymb/.cd, symbC=land/main/self propelled field artillery},
   main/finance/.style={/NATOSymb/.cd, symbC=land/main/finance},
   main/fire protection/.style={/NATOSymb/.cd, symbC=land/main/fire protection},
   main/geospatial support/.style={/NATOSymb/.cd, symbC=main/text, symbCT=GEO},
   main/information operations/.style={/NATOSymb/.cd, symbC=main/text, symbCT=IO},
   main/interrogation/.style={/NATOSymb/.cd, symbC=main/text, symbCT=IPW},
   main/joint fire support/.style={/NATOSymb/.cd, symbC=main/text, symbCT=JFS},
   main/judge advocate general/.style={/NATOSymb/.cd, symbC=main/text, symbCT=JAG},
   main/labour/.style={/NATOSymb/.cd, symbC=land/main/labour},
   main/laundry/.style={/NATOSymb/.cd, symbC=land/main/laundry},
   main/liaison/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LO},
   main/maintenance/.style={/NATOSymb/.cd, symbC=multi/main/maintenance},
   main/material/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MAT},
   main/meteorological/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MET},
   main/military intelligence/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MI},
   main/military police/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MP},
   main/mine/.style={/NATOSymb/.cd, symbC=multi/main/mine},
   main/missile/.style={/NATOSymb/.cd, symbC=land/main/missile},
   main/morale welfare and recreation/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MWE},
   main/mortar/.style={/NATOSymb/.cd, symbC=land/main/mortar},
   main/tactical mortar/.style={/NATOSymb/.cd, symbC=land/main/tactical mortar},
   main/mortuary affairs/.style={/NATOSymb/.cd, symbC=land/main/mortuary affairs},
   main/naval/.style={/NATOSymb/.cd, symbC=multi/main/naval},
   main/observer/.style={/NATOSymb/.cd, symbC=land/main/observer},
   main/ordnance/.style={/NATOSymb/.cd, symbC=land/main/ordnance},
   main/personnel services/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PS},
   main/petroleum oil and lubricants/.style={/NATOSymb/.cd, symbC=multi/main/petroleum oil and lubricants},
   main/pipeline/.style={/NATOSymb/.cd, symbC=land/main/pipeline},
   main/postal/.style={/NATOSymb/.cd, symbC=land/main/postal},
   main/public affairs/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PA},
   main/psychological operations/.style={/NATOSymb/.cd, symbC=multi/main/psychological operations},
   main/quartermaster/.style={/NATOSymb/.cd, symbC=multi/main/quartermaster},
   main/radar/.style={/NATOSymb/.cd, symbC=multi/main/radar},
   main/radio/.style={/NATOSymb/.cd, symbC=land/main/radio},
   main/radio relay/.style={/NATOSymb/.cd, symbC=land/main/radio relay},
   main/radio teletype centre/.style={/NATOSymb/.cd, symbC=land/main/radio teletype centre},
   main/religious support/.style={/NATOSymb/.cd, symbC=main/text, symbCT=REL},
   main/replacement holding unit/.style={/NATOSymb/.cd, symbC=main/text, symbCT=RHU},
   main/sea air land/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=SEAL},
   main/security/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SEC},
   main/sensor/.style={/NATOSymb/.cd, symbC=multi/main/sensor},
   main/shore patrol security police/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SP},
   main/sniper/.style={/NATOSymb/.cd, symbC=land/main/sniper},
   main/special forces/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SF},
   main/special operations forces/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SOF},
   main/surveillance/.style={/NATOSymb/.cd, symbC=land/main/surveillance},
   main/survey/.style={/NATOSymb/.cd, symbC=land/main/survey},
   main/sustainment/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=SUST},
   main/tactical satellite/.style={/NATOSymb/.cd, symbC=land/main/tactical satellite},
   main/topographic/.style={/NATOSymb/.cd, symbC=land/main/topographic},
   main/transportation/.style={/NATOSymb/.cd, symbC=multi/main/transportation},
   main/unmanned systems/.style={/NATOSymb/.cd, symbC=multi/main/unmanned systems},
   main/video imagery/.style={/NATOSymb/.cd, symbC=land/main/video imagery},
   main/water/.style={/NATOSymb/.cd, symbC=multi/main/water},
   main/water purification/.style={/NATOSymb/.cd, symbC=multi/main/water purification},
   main/civilian police/.style={/NATOSymb/.cd, symbC=land/main/civilian police},
   main/environmental protection/.style={/NATOSymb/.cd, symbC=land/main/environmental protection},
   main/government organization/.style={/NATOSymb/.cd, symbC=main/text, symbCT=GO},
   main/internal security force/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ISF},
   main/individual/.style={/NATOSymb/.cd, symbC=multi/main/individual},
   main/organisation or group/.style={/NATOSymb/.cd, symbC=land/main/organisation or group},
   main/killing victim/.style={/NATOSymb/.cd, symbC=multi/main/killing victim},
   main/killing victims/.style={/NATOSymb/.cd, symbC=land/main/killing victims},
   main/victim of an attempted crime/.style={/NATOSymb/.cd, symbC=multi/main/victim of an attempted crime},
   main/spy/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SPY},
   upper/.is choice,
   upper/none/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/air assault/.style= {/NATOSymb/.cd, symbU=land/upper/air assault},
   upper/area/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=AREA},
   upper/attack/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=A},
   upper/biological/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=B},
   upper/border/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=BOR},
   upper/bridging/.style= {/NATOSymb/.cd, symbU=land/upper/bridging},
   upper/chemical/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=C},
   upper/close protection/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=CLP},
   upper/combat/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=CBT},
   upper/command and control/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=C2},
   upper/communications contingency package/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=CCP},
   upper/construction/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=CONST},
   upper/cross cultural communication/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=CCC},
   upper/crowd and riot control/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=CRC},
   upper/decontamination/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=D},
   upper/detention/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=DET},
   upper/direct communications/.style= {/NATOSymb/.cd, symbU=land/upper/direct communications},
   upper/diving/.style= {/NATOSymb/.cd, symbU=land/upper/diving},
   upper/division/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=XX},
   upper/dog/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=DOG},
   upper/drilling/.style= {/NATOSymb/.cd, symbU=land/upper/drilling},
   upper/electro optical/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=EO},
   upper/enhanced/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=ENH},
   upper/explosive ordnance disposal/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=EOD},
   upper/fire direction centre/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=FDC},
   upper/force/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=F},
   upper/forward/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=FWD},
   upper/ground station module/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=GSM},
   upper/landing support/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=LS},
   upper/large extension node/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=LEN},
   upper/maintenance/.style= {/NATOSymb/.cd, symbU=multi/upperlower/maintenance},
   upper/meteorological/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MET},
   upper/mine countermeasure/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCM},
   upper/missile/.style= {/NATOSymb/.cd, symbU=land/upper/missile},
   upper/mobile advisor and support/.style= {/NATOSymb/.cd, symbU=land/upper/mobile advisor and support},
   upper/mobile subscriber equipment/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MSE},
   upper/mobility support/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MS},
   upper/movement control centre/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCC},
   upper/multinational/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MN},
   upper/multinational specialized unit/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MSU},
   upper/multiple rocket launcher/.style= {/NATOSymb/.cd, symbU=land/upper/multiple rocket launcher},
   upper/NATO medical role 1/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=\ \ \ \ 1},
   upper/NATO medical role 2/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=\ \ \ \ 2},
   upper/NATO medical role 3/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=\ \ \ \ 3},
   upper/NATO medical role 4/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=\ \ \ \ 4},
   upper/naval/.style= {/NATOSymb/.cd, symbU=multi/upper/naval},
   upper/node centre/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=NC},
   upper/nuclear/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=N},
   upper/operations/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=OPS},
   upper/radar/.style= {/NATOSymb/.cd, symbU=land/upper/radar},
   upper/radiological/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=RAD},
   upper/runway/.style= {/NATOSymb/.cd, symbU=multi/upper/runway},
   upper/search and rescue/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SAR},
   upper/security/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SEC},
   upper/sensor/.style= {/NATOSymb/.cd, symbU=land/upper/sensor},
   upper/sensor control module/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SCM},
   upper/signals intelligence/.style= {/NATOSymb/.cd, symbU=land/upper/signals intelligence},
   upper/single shelter switch/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SSS},
   upper/single rocket launcher/.style= {/NATOSymb/.cd, symbU=land/upper/single rocket launcher},
   upper/smoke/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=S},
   upper/sniper/.style= {/NATOSymb/.cd, symbU=land/upper/sniper},
   upper/sound ranging/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SDR},
   upper/special weapons and tactics/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=SWAT},
   upper/survey/.style= {/NATOSymb/.cd, symbU=land/upper/survey},
   upper/tactical exploitation/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=TE},
   upper/target acquisition/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=TA},
   upper/topographic/.style= {/NATOSymb/.cd, symbU=land/upper/topographic},
   upper/utility/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=U},
   upper/video imagery/.style= {/NATOSymb/.cd, symbU=land/upper/video imagery},
   upper/assassination/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=AS},
   upper/execution/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=EX},
   upper/murder victims/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MU},
   upper/hijacking/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=H},
   upper/kidnapping/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=K},
   upper/piracy/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=PI},
   upper/rape/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=RA},
   upper/displaced persons refugees and evacuees/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=DPRE},
   upper/foreign fighters/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=FF},
   upper/gang member or gang/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=GANG},
   upper/government organisation/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=GO},
   upper/leader or leadership/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=LDR},
   upper/non-governmental organization member or non-governmental organization/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=NGO},
   upper/coerced or impressed recruit/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=C},
   upper/willing recruit/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=W},
   upper/religious or religious organisation/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=REL},
   upper/targeted individual or organisation/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=TGT},
   upper/terrorist or terrorist organisation/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=TER},
   lower/.is choice,
   lower/none/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/airbourne/.style= {/NATOSymb/.cd, symbL=land/lower/airborne},
   lower/arctic/.style= {/NATOSymb/.cd, symbL=land/lower/arctic},
   lower/battle damage repair/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=BDR},
   lower/bicycle equipped/.style= {/NATOSymb/.cd, symbL=land/lower/bicycle equipped},
   lower/clearing/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=CLR},
   lower/close range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=CR},
   lower/decontamination/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=D},
   lower/demolition/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=DEM},
   lower/dental/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=\ \ \ \  D},
   lower/digital/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=DIG},
   lower/enhanced location reporting system/.style= {/NATOSymb/.cd, symbL=land/lower/enhanced position location reporting system},
   lower/equipment/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=E},
   lower/heavy/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=H},
   lower/intermodal/.style= {/NATOSymb/.cd, symbL=land/lower/intermodal},
   lower/intensive care/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=\ \ \ \ IC},
   lower/light/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=L},
   lower/laboratory/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=LAB},
   lower/launcher/.style= {/NATOSymb/.cd, symbL=land/lower/launcher},
   lower/long range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=LR},
   lower/medium range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=MR},
   lower/mountain/.style={/NATOSymb/.cd, symbL=land/lower/mountain/\NATOSymb@selectedfaction},
   lower/multi channel/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=MC},
   lower/optical/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=OPT},
   lower/pack animal/.style= {/NATOSymb/.cd, symbL=multi/lower/pack animal},
   lower/patient evacuation coordination/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=PEC},
   lower/preventative maintenance/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=PM},
   lower/psychological/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=P},
   lower/radio relay line of sight/.style= {/NATOSymb/.cd, symbL=land/lower/radio relay line of sight},
   lower/railroad/.style= {/NATOSymb/.cd, symbL=multi/upperlower/railroad},
   lower/recovery unmanned systems/.style= {/NATOSymb/.cd, symbL=land/lower/recovery unmanned systems},
   lower/recovery maintenance/.style= {/NATOSymb/.cd, symbL=multi/upperlower/maintenance},
   lower/rescue coordination centre/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=RCC},
   lower/riverine/.style= {/NATOSymb/.cd, symbL=land/lower/riverine},
   lower/single channel/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=SC},
   lower/ski/.style= {/NATOSymb/.cd, symbL=land/lower/ski},
   lower/short range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=SR},
   lower/strategic/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=STR},
   lower/support/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=SPT},
   lower/tactical/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=TAC},
   lower/towed/.style= {/NATOSymb/.cd, symbL=land/lower/towed},
   lower/troop/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=T},
   lower/vertical of short takeoff and landing/.style= {/NATOSymb/.cd, symbL=main/textsmallsquashed, symbLT=VSTOL},
   lower/veterinary/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=\ \ \ \ V},
   lower/wheeled/.style= {/NATOSymb/.cd, symbL=land/lower/wheeled},
   symbE/.store in= \NATOSymb@symbE,
   symbR/.store in= \NATOSymb@symbR,
   echelon/.is choice,
   echelon/none/.style= {/NATOSymb/.cd, symbE=},
   echelon/team/.style= {/NATOSymb/.cd, symbE=$\varnothing$},
   echelon/squad/.style= {/NATOSymb/.cd, symbE=\textbullet},
   echelon/section/.style= {/NATOSymb/.cd, symbE=\textbullet \  \textbullet},
   echelon/platoon/.style= {/NATOSymb/.cd, symbE=\textbullet \  \textbullet \  \textbullet},
   echelon/company/.style= {/NATOSymb/.cd, symbE=\textbar},
   echelon/battalion/.style= {/NATOSymb/.cd, symbE=\textbar \  \textbar},
   echelon/regiment/.style= {/NATOSymb/.cd, symbE=\textbar \  \textbar \  \textbar},
   echelon/brigade/.style= {/NATOSymb/.cd, symbE=X},
   echelon/division/.style= {/NATOSymb/.cd, symbE=XX},
   echelon/corps/.style= {/NATOSymb/.cd, symbE=XXX},
   echelon/army/.style= {/NATOSymb/.cd, symbE=XXXX},
   echelon/army group/.style= {/NATOSymb/.cd, symbE=XXXXX},
   echelon/theatre/.style= {/NATOSymb/.cd, symbE=XXXXXX},
   echelon/command/.style= {/NATOSymb/.cd, symbE=\raisebox{1pt}{+ \ +}},
   task force/.is if=taskforce,
   feint or dummy/.is if=feintdummy,
   drawH/.store in= \NATOSymb@drawH,
   symbHT/.store in= \NATOSymb@symbHT,
   headquarters/.is choice,
   headquarters/none/.style= {/NATOSymb/.cd, drawH=false, symbHT=},
   headquarters/blank/.style= {/NATOSymb/.cd, drawH=true, symbHT=},
   headquarters/assault command post/.style= {/NATOSymb/.cd,  drawH=true, symbHT=ASLT},
   headquarters/command group/.style= {/NATOSymb/.cd,  drawH=true, symbHT=CMD},
   headquarters/forward command post/.style= {/NATOSymb/.cd,  drawH=true, symbHT=FWD},
   headquarters/main command post/.style= {/NATOSymb/.cd,  drawH=true, symbHT=MAIN},
   headquarters/rear command post/.style= {/NATOSymb/.cd,  drawH=true, symbHT=REAR},
   headquarters/tactical operations center/.style= {/NATOSymb/.cd,  drawH=true, symbHT=TOC},
   headquarters/tactical command post/.style= {/NATOSymb/.cd,  drawH=true, symbHT=TAC},
   status/.is choice,
   status/none/.style= {/NATOSymb/.cd, symbR=},
   status/reinforced/.style= {/NATOSymb/.cd, symbR=+ \ },
   status/reduced/.style= {/NATOSymb/.cd, symbR=\textminus \ },
   status/reinforced and reduced/.style= {/NATOSymb/.cd, symbR=\ooalign{\raisebox{2pt}{+}\cr\smash{\raisebox{-2pt}{\textminus}}\cr} \ },
   altitude/.style 2 args={/NATOSymb/.cd, symbL=main/textsmall, symbLT={\fontsize{6}{0}\selectfont \ifthenelse{\isempty{##2}}{\acs{##1}}{\acs{##1S}/\acs{##2}}}},
   altitude/.value required,
   supply/.style 2 args={/NATOSymb/.cd, symbC={\ifx\\##2\\supply/class ##1\else supply/text\fi}, symbCT={\ifthenelse{\isempty{##2}}{}{\uppercase\expandafter{\romannumeral##1\relax}\&\uppercase\expandafter{\romannumeral##2\relax}}}},
   supply/.value required,
   staff comments/.store in=\NATOSymb@symbG,
   additional information/.store in=\NATOSymb@symbH,
   higher formation/.store in=\NATOSymb@symbM,
   evaluation rating/.store in=\NATOSymb@symbJ,
   country indicator/.store in=\NATOSymb@symbAC,
   combat effectiveness/.store in=\NATOSymb@symbK,
   identification/.store in=\NATOSymb@symbP,
   unique designation/.store in=\NATOSymb@symbT,
   type of equipment/.store in=\NATOSymb@symbV,
   date-time group/.store in=\NATOSymb@symbW,
   altitude value/.store in=\NATOSymb@symbX,
   location/.store in=\NATOSymb@symbY,
   common identifier/.store in=\NATOSymb@symbAF,
   speed/.store in=\NATOSymb@symbZ,
   offset/.code 2 args={\begin{scope}[shift={(#2)}]\ifthenelse{\equal{\NATOSymb@drawH}{true}\AND \equal{\NATOSymb@selectedfaction}{friendly}}{\draw (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}},
   offset/.value required,
   movement/.code 2 args={\begin{scope}[shift={(#2)}]\ifthenelse{\equal{\NATOSymb@drawH}{true}\AND \equal{\NATOSymb@selectedfaction}{friendly}}{ \draw [-{Stealth[inset=0pt,scale=1]}] (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw [-{Stealth[inset=0pt,scale=1]}] (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}},
   movement/.value required,
   faction=friendly,
   main=none,
   upper=none,
   lower=none,
   echelon=none,
   status=none,
   headquarters=none,
   country indicator=,
   staff comments=,
   additional information=,
   higher formation=,
   evaluation rating=,
   combat effectiveness=,
   identification=,
   unique designation=,
   type of equipment=,
   date-time group=,
   altitude value=,
   location=,
   common identifier=,
   speed=,
   task force=false,
   feint or dummy=false,
  #1,
} %
\begin{scope}[shift={(#2)}, local bounding box=#3]
\fontfamily{phv}\fontseries{bx}\selectfont
\pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
\pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
\pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
\pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
\fontsize{6}{0}\selectfont
\ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=south, local bounding box=E] at ($(M.north)-(0,0.04)$) {\NATOSymb@symbE};} %Draw echelon
\iftaskforce
\draw ($(E.south west)+(0,0.03)$) -- (E.north west) -- (E.north east) -- ($(E.south east)+(0,0.03)$);
\fi
\iffeintdummy
\draw [dashed] (M.north west) -- ($(M.north)+(0, 0.5)$) -- (M.north east);
\fi
\ifthenelse{\isequivalentto{\NATOSymb@symbAC}{\empty} \AND \isequivalentto{\NATOSymb@symbR}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\fontsize{8}{0}\selectfont \NATOSymb@symbR \fontsize{6}{0}\selectfont \NATOSymb@symbAC};} %Draw status
\ifthenelse{\equal{\NATOSymb@drawH}{true} \AND \equal{\NATOSymb@selectedfaction}{friendly}}{
\draw (-0.75, -0.5) -- +(0, -0.25);
\fontsize{6}{0}\selectfont
\node [anchor=north] at (M.south) {\NATOSymb@symbHT};}{}
\fontsize{6}{0}\selectfont
\ifthenelse{\isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbG};}
\ifthenelse{\isequivalentto{\NATOSymb@symbH}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbH};}
\ifthenelse{\isequivalentto{\NATOSymb@symbM}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbM};}
\ifthenelse{\isequivalentto{\NATOSymb@symbJ}{\empty} \AND \isequivalentto{\NATOSymb@symbK}{\empty} \AND \isequivalentto{\NATOSymb@symbP}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbJ\NATOSymb@symbK\NATOSymb@symbP};}
\ifthenelse{\isequivalentto{\NATOSymb@symbW}{\empty}}{}{\node [anchor=east] at ($(M.north west)!-0.17!(M.south west)$) {\NATOSymb@symbW};}
\ifthenelse{\isequivalentto{\NATOSymb@symbX}{\empty} \AND \isequivalentto{\NATOSymb@symbY}{\empty}}{}{\node [anchor=east] at ($(M.north west)!.17!(M.south west)$) {\NATOSymb@symbX\NATOSymb@symbY};}
\ifthenelse{\isequivalentto{\NATOSymb@symbV}{\empty} \AND \isequivalentto{\NATOSymb@symbAF}{\empty}}{}{\node [anchor=east] at (M.west) {\NATOSymb@symbV\NATOSymb@symbAF};}
\ifthenelse{\isequivalentto{\NATOSymb@symbT}{\empty}}{}{\node [anchor=east] at ($(M.north west)!0.83!(M.south west)$) {\NATOSymb@symbT};}
\ifthenelse{\isequivalentto{\NATOSymb@symbZ}{\empty}}{}{\node [anchor=east] at ($(M.north west)!1.17!(M.south west)$) {\NATOSymb@symbZ};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\newcounter{exitem}
\newlength{\itemlength}
\NewDocumentEnvironment{landheadquarters}{D(){0,0}}{
\setlength{\itemlength}{0pt}
\begin{scope}[shift={(#1)}]
\setcounter{exitem}{0}
\RenewDocumentCommand\item{m}{
\scoped[yshift=-\itemlength, local bounding box=T]
##1;
\ifnum \value{exitem}>0
\pgfmathtruncatemacro\result{\value{exitem}-1}
\draw ($(M.south west) + (0, -0.25)$) -- (F\result);
\fi
\coordinate (F\arabic{exitem}) at (M.north west);
\pgfpointdiff{\pgfpointanchor{T}{north west}}{\pgfpointanchor{T}{south west}}
\addtolength{\itemlength}{\pgf@y-5pt}
\stepcounter{exitem}}
}{\end{scope}}
\NewDocumentEnvironment{landgroup}{D(){0,0}}{
\setlength{\itemlength}{0pt}
\begin{scope}[local bounding box=G, shift={(#1)}]
\RenewDocumentCommand\item{m}{
\scoped[yshift=-\itemlength, local bounding box=T]
##1;
\pgfpointdiff{\pgfpointanchor{T}{north west}}{\pgfpointanchor{T}{south west}}
\addtolength{\itemlength}{\pgf@y-5pt}}
}{
\draw ([shift={(5pt,3pt)}]G.north west) -| ([shift={(-3pt,-3pt)}]G.south west) -- ++(8pt,0)
 (G.west) -- ++(-5pt,0);
\end{scope}}
\NewDocumentCommand\NATOEquipment{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=equipment/none, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=equipment/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=equipment/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=equipment/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=equipment/unknown, fill=unknownA},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=}, 
   main/rifle/.style= {/NATOSymb/.cd, symbC=equipment/main/rifle},
   main/single shot rifle/.style= {/NATOSymb/.cd, symbC=equipment/main/single shot rifle},
   main/semi automatic rifle/.style= {/NATOSymb/.cd, symbC=equipment/main/semi automatic rifle},
   main/automatic rifle/.style= {/NATOSymb/.cd, symbC=equipment/main/automatic rifle},
   main/machine gun/.style= {/NATOSymb/.cd, symbC=equipment/main/machine gun},
   main/heavy machine gun/.style= {/NATOSymb/.cd, symbC=equipment/main/heavy machine gun},
   main/grenade launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/grenade launcher},
   main/light grenade launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/light grenade launcher},
   main/medium grenade launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/medium grenade launcher},
   main/heavy grenade launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/heavy grenade launcher},
   main/flame thrower/.style= {/NATOSymb/.cd, symbC=equipment/main/flame thrower},
   main/air defence gun/.style= {/NATOSymb/.cd, symbC=equipment/main/air defence gun},
   main/anti tank gun/.style= {/NATOSymb/.cd, symbC=equipment/main/anti tank gun},
   main/direct fire gun/.style= {/NATOSymb/.cd, symbC=equipment/main/direct fire gun},
   main/recoilless gun/.style= {/NATOSymb/.cd, symbC=equipment/main/recoilless gun},
   main/howitzer/.style= {/NATOSymb/.cd, symbC=equipment/main/howitzer},
   main/missile launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/missile launcher},
   main/air defence missile launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/air defence missile launcher},
   main/anti tank missile launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/anti tank missile launcher},
   main/surface to surface missile launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/surface to surface missile launcher},
   main/mortar/.style= {/NATOSymb/.cd, symbC=equipment/main/mortar},
   main/single rocket launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/single rocket launcher},
   main/multiple rocket launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/multiple rocket launcher},
   main/anti tank rocket launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/anti tank rocket launcher},
   main/non lethal weapon/.style= {/NATOSymb/.cd, symbC=equipment/main/non lethal weapon},
   main/non lethal grenade launcher/.style= {/NATOSymb/.cd, symbC=equipment/main/non lethal grenade launcher},
   main/taser/.style= {/NATOSymb/.cd, symbC=equipment/main/taser},
   main/water cannon/.style= {/NATOSymb/.cd, symbC=equipment/main/water cannon},
   main/armoured fighting vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/armoured fighting vehicle},
   main/armoured fighting vehicle command and control/.style= {/NATOSymb/.cd, symbC=equipment/main/armoured fighting vehicle command and control},
   main/armoured personnel carrier/.style= {/NATOSymb/.cd, symbC=equipment/main/armoured personnel carrier},
   main/armoured medical personnel carrier/.style= {/NATOSymb/.cd, symbC=equipment/main/armoured medical personnel carrier},
   main/armoured protected vehicle/.style= {/NATOSymb/.cd, symbC=multi/main/armoured},
   main/armoured protected recovery vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/armoured protected recovery vehicle},
   main/medical evacuation armoured protected vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/medical evacuation armoured protected vehicle},
   main/tank/.style= {/NATOSymb/.cd, symbC=equipment/main/tank},
   main/light tank/.style= {/NATOSymb/.cd, symbC=equipment/main/light tank},
   main/medium tank/.style= {/NATOSymb/.cd, symbC=equipment/main/medium tank},
   main/heavy tank/.style= {/NATOSymb/.cd, symbC=equipment/main/heavy tank},
   main/tank recovery vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/tank recovery vehicle},
   main/bridge/.style= {/NATOSymb/.cd, symbC=multi/main/bridge},
   main/bridge mounted on utility vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/bridge mounted on utility vehicle},
   main/fixed bridge/.style= {/NATOSymb/.cd, symbC=equipment/main/fixed bridge},
   main/folding girder bridge/.style= {/NATOSymb/.cd, symbC=equipment/main/folding girder bridge},
   main/hollow deck bridge/.style= {/NATOSymb/.cd, symbC=equipment/main/hollow deck bridge},
   main/drill/.style= {/NATOSymb/.cd, symbC=multi/main/drill},
   main/drill mounted on vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/drill mounted on vehicle},
   main/earthmover/.style= {/NATOSymb/.cd, symbC=equipment/main/earthmover},
   main/multifunctional earthmover/.style= {/NATOSymb/.cd, symbC=equipment/main/multifunctional earthmover},
   main/mine clearing equipment/.style= {/NATOSymb/.cd, symbC=equipment/main/mine clearing equipment},
   main/mine laying equipment/.style= {/NATOSymb/.cd, symbC=equipment/main/mine laying equipment},
   main/utility vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/utility vehicle},
   main/medical vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/medical vehicle},
   main/medical evacuation/.style= {/NATOSymb/.cd, symbC=equipment/main/medical evacuation},
   main/mobile emergency physician/.style= {/NATOSymb/.cd, symbC=equipment/main/mobile emergency physician},
   main/bus/.style= {/NATOSymb/.cd, symbC=equipment/main/bus},
   main/semi trailer truck/.style= {/NATOSymb/.cd, symbC=equipment/main/semi trailer truck},
   main/petroleum oil and lubricants vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/petroleum oil and lubricants vehicle},
   main/water vehicle/.style= {/NATOSymb/.cd, symbC=equipment/main/water vehicle},
   main/train locomotive/.style= {/NATOSymb/.cd, symbC=equipment/main/train locomotive},
   main/chemical biological radiological nuclear equipment/.style= {/NATOSymb/.cd, symbC=multi/main/chemical biological radiological nuclear},
   main/computer system/.style= {/NATOSymb/.cd, symbC=equipment/main/computer system},
   main/laser/.style= {/NATOSymb/.cd, symbC=equipment/main/laser},
   main/land mine/.style= {/NATOSymb/.cd, symbC=equipment/main/land mine},
   main/antipersonnel land mine/.style= {/NATOSymb/.cd, symbC=equipment/main/antipersonnel land mine},
   main/antitank land mine/.style= {/NATOSymb/.cd, symbC=equipment/main/antitank land mine},
   main/improvised explosive device/.style= {/NATOSymb/.cd, symbC=main/text, symbCT=IED},
   main/sensor/.style= {/NATOSymb/.cd, symbC= equipment/main/sensor},
   main/sensor emplaced/.style= {/NATOSymb/.cd, symbC=equipment/main/sensor emplaced},
   main/radar/.style= {/NATOSymb/.cd, symbC=multi/main/radar},
   main/antennae/.style= {/NATOSymb/.cd, symbC=multi/main/antenna},
   main/generator set/.style= {/NATOSymb/.cd, symbC=main/text, symbCT=G},
   main/psychological operations equipment/.style= {/NATOSymb/.cd, symbC=multi/main/psychological operations},
   main/bomb/.style= {/NATOSymb/.cd, symbC=main/textsquashed, symbCT=BOMB},
   main/booby trap/.style= {/NATOSymb/.cd, symbC=equipment/main/booby trap},
   mobility/.is choice,
   mobility/none/.style= {/NATOSymb/.cd, symbL=, symbLT=},
   mobility/amphibious/.style= {/NATOSymb/.cd, symbL=equipment/mobility/amphibious},
   mobility/barge/.style= {/NATOSymb/.cd, symbL=equipment/mobility/barge},
   mobility/over snow/.style= {/NATOSymb/.cd, symbL=equipment/mobility/over snow},
   mobility/pack animal/.style= {/NATOSymb/.cd, symbL=equipment/mobility/pack animal},
   mobility/railroad/.style= {/NATOSymb/.cd, symbL=equipment/mobility/railroad},
   mobility/sled/.style= {/NATOSymb/.cd, symbL=equipment/mobility/sled},
   mobility/towed/.style= {/NATOSymb/.cd, symbL=equipment/mobility/towed},
   mobility/tracked/.style= {/NATOSymb/.cd, symbL=equipment/mobility/tracked},
   mobility/wheeled cross country/.style= {/NATOSymb/.cd, symbL=equipment/mobility/wheeled cross country},
   mobility/wheeled limited mobility/.style= {/NATOSymb/.cd, symbL=equipment/mobility/wheeled limited mobility},
   mobility/wheeled semi trailer/.style= {/NATOSymb/.cd, symbL=equipment/mobility/wheeled semi trailer},
   mobility/wheeled and tracked/.style= {/NATOSymb/.cd, symbL=equipment/mobility/wheeled and tracked},
   offset/.code 2 args={\begin{scope}[shift={(#2)}]\draw (0,0)  -- +(0, -##1) -- +(##2);\end{scope}},
   offset/.value required,
   movement/.code 2 args={\begin{scope}[shift={(#2)}]\draw [-{Stealth[inset=0pt,scale=1]}] (0,0)  -- +(0, -##1) -- +(##2);\end{scope}},
   movement/.value required,
   feint or dummy/.is if=feintdummy,
   quantity/.store in=\NATOSymb@symbQ,
   staff comments/.store in=\NATOSymb@symbG,
   additional information/.store in=\NATOSymb@symbH,
   evaluation rating/.store in=\NATOSymb@symbJ,
   combat effectiveness/.store in=\NATOSymb@symbK,
   signature equipment/.store in=\NATOSymb@symbSE,
   higher formation/.store in=\NATOSymb@symbM,
   identification/.store in=\NATOSymb@symbP,
   unique designation/.store in=\NATOSymb@symbT,
   type of equipment/.store in=\NATOSymb@symbV,
   date-time group/.store in=\NATOSymb@symbW,
   altitude value/.store in=\NATOSymb@symbX,
   location/.store in=\NATOSymb@symbY,
   country indicator/.store in=\NATOSymb@symbAC,
   platform type/.store in=\NATOSymb@symbAD,
   equipment teardown time/.store in=\NATOSymb@symbAE,
   common identifier/.store in=\NATOSymb@symbAF,
   speed/.store in=\NATOSymb@symbZ,
   faction=none,
   main=none,
   mobility=none,
   quantity=,
   staff comments=,
   additional information=,
   evaluation rating=,
   higher formation=,
   evaluation rating=,
   combat effectiveness=,
   signature equipment=,
   identification=,
   unique designation=,
   type of equipment=,
   date-time group=,
   altitude value=,
   location=,
   country indicator=,
   platform type=,
   equipment teardown time=,
   common identifier=,
   speed=,
   feint or dummy=false,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
\fontfamily{phv}\fontseries{bx}\selectfont
\begin{scope} [local bounding box=Q]
\pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
\pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
\ifthenelse{\isequivalentto{\NATOSymb@symbL}{\empty}}{}{\pic at ($(M.south) + (0, -0.1)$) {NATOSymb \NATOSymb@symbL};} %Draw mobility
\end{scope}
\iffeintdummy
\draw [dashed] (M.north west) -- ($(M.north)+(0, 0.5)$) -- (M.north east);
\fi
\fontsize{6}{0}\selectfont
\ifthenelse{\isequivalentto{\NATOSymb@symbQ}{\empty}}{}{\node [anchor=south] at ($(M.north) + (0, 0.02)$) {\NATOSymb@symbQ};}
\ifthenelse{\isequivalentto{\NATOSymb@symbAC}{\empty}}{}{\node [anchor=west] at ({Q.east} |- {$(M.north east)!-0.17!(M.south east)$}) {\NATOSymb@symbAC};}
\ifthenelse{\isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at ({Q.east} |- {$(M.north east)!.17!(M.south east)$}) {\NATOSymb@symbG};}
\ifthenelse{\isequivalentto{\NATOSymb@symbH}{\empty} \AND \isequivalentto{\NATOSymb@symbAE}{\empty}}{}{\node [anchor=west] at (Q.east |- M.east) {\NATOSymb@symbH\NATOSymb@symbAE};}
\ifthenelse{\isequivalentto{\NATOSymb@symbM}{\empty}}{}{\node [anchor=west] at ({Q.east} |- {$(M.north east)!0.83!(M.south east)$}) {\NATOSymb@symbM};}
\ifthenelse{\isequivalentto{\NATOSymb@symbJ}{\empty} \AND \isequivalentto{\NATOSymb@symbK}{\empty} \AND \isequivalentto{\NATOSymb@symbSE}{\empty} \AND \isequivalentto{\NATOSymb@symbP}{\empty}}{}{\node [anchor=west] at ({Q.east} |- {$(M.north east)!1.17!(M.south east)$}) {\NATOSymb@symbJ\NATOSymb@symbK\NATOSymb@symbSE\NATOSymb@symbP};}
\ifthenelse{\isequivalentto{\NATOSymb@symbW}{\empty}}{}{\node [anchor=east] at ({Q.west} |- {$(M.north west)!-0.17!(M.south west)$}) {\NATOSymb@symbW};}
\ifthenelse{\isequivalentto{\NATOSymb@symbX}{\empty} \AND \isequivalentto{\NATOSymb@symbY}{\empty}}{}{\node [anchor=east] at ({Q.west} |- {$(M.north west)!.17!(M.south west)$}) {\NATOSymb@symbX\NATOSymb@symbY};}
\ifthenelse{\isequivalentto{\NATOSymb@symbV}{\empty} \AND \isequivalentto{\NATOSymb@symbAD}{\empty} \AND \isequivalentto{\NATOSymb@symbAF}{\empty}}{}{\node [anchor=east] at (Q.west |- M.west) {\NATOSymb@symbV\NATOSymb@symbAD\NATOSymb@symbAF};}
\ifthenelse{\isequivalentto{\NATOSymb@symbT}{\empty}}{}{\node [anchor=east] at ({Q.west} |- {$(M.north west)!0.83!(M.south west)$}) {\NATOSymb@symbT};}
\ifthenelse{\isequivalentto{\NATOSymb@symbZ}{\empty}}{}{\node [anchor=east] at ({Q.west} |- {$(M.north west)!1.17!(M.south west)$}) {\NATOSymb@symbZ};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\newif\ifheadquarters
\NewDocumentCommand\NATOInstallation{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   selectedfaction/.store in=\NATOSymb@selectedfaction,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=installation/none, fill=white, selectedfaction=neutral},
   faction/friendly/.style={/NATOSymb/.cd, shape=installation/friendly, fill=friendlyA, selectedfaction=friendly},
   faction/hostile/.style={/NATOSymb/.cd, shape=installation/hostile, fill=hostileA, selectedfaction=hostile},
   faction/neutral/.style={/NATOSymb/.cd, shape=installation/neutral, fill=neutralA, selectedfaction=neutral},
   faction/unknown/.style={/NATOSymb/.cd, shape=installation/unknown, fill=unknownA, selectedfaction=unknown},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=},
   main/transportation/.style={/NATOSymb/.cd, symbC=multi/main/transportation},
   main/ammunition cache/.style={/NATOSymb/.cd, symbC=supply/class 5},
   main/black list location/.style={/NATOSymb/.cd, symbC=main/text, symbCT=BLK},
   main/broadcast transmitter antenna/.style={/NATOSymb/.cd, symbC=multi/main/antenna},
   main/chemical biological radiological nuclear/.style={/NATOSymb/.cd, symbC=multi/main/chemical biological radiological nuclear},
   main/electric power/.style={/NATOSymb/.cd, symbC=installation/main/electric power},
   main/food distribution/.style={/NATOSymb/.cd, symbC=supply/class US 1},
   main/grey list location/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=GRAY},
   main/mass grave site/.style={/NATOSymb/.cd, symbC=installation/main/mass grave site},
   main/medical/.style={/NATOSymb/.cd, symbC=multi/main/medical},
   main/medical treatment facility/.style={/NATOSymb/.cd, symbC=multi/main/medical treatment facility},
   main/mine/.style={/NATOSymb/.cd, symbC=installation/main/mine},
   main/nuclear/.style={/NATOSymb/.cd, symbC=installation/main/nuclear},
   main/printed media/.style={/NATOSymb/.cd, symbC=installation/main/printed media},
   main/transportation/.style={/NATOSymb/.cd, symbC=multi/main/transportation},
   main/naval/.style={/NATOSymb/.cd, symbC=multi/main/naval},
   main/safe house/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=SAFE},
   main/civilian telecommunications/.style={/NATOSymb/.cd, symbC=installation/main/civilian telecommunications},
   main/water/.style={/NATOSymb/.cd, symbC=multi/main/water},
   main/water treatment/.style={/NATOSymb/.cd, symbC=multi/main/water purification},
   main/white list location/.style={/NATOSymb/.cd, symbC=main/text, symbCT=WHT},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/nuclear energy/.style={/NATOSymb/.cd, symbU=installation/upper/nuclear},
   upper/railroad/.style={/NATOSymb/.cd, symbU=installation/upper/railroad},
   upper/yard/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=YRD},
   upper/biological/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=B},
   upper/chemical/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=C},
   upper/nuclear/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=N},
   upper/coal/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=CO},
   upper/geothermal/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=GT},
   upper/hydroelectric/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=HY},
   upper/natural gas/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=NG},
   upper/petroleum/.style= {/NATOSymb/.cd, symbU=installation/upper/petroleum oil and lubricants},
   upper/radio/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=R},
   upper/telephone/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=T},
   upper/television/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=TV},
   offset/.code 2 args={\begin{scope}[shift={(#2)}]\ifheadquarters\ifthenelse{\equal{\NATOSymb@selectedfaction}{friendly}}{\draw (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}\fi},
   offset/.value required,
   movement/.code 2 args={\begin{scope}[shift={(#2)}]\ifheadquarters\ifthenelse{\equal{\NATOSymb@selectedfaction}{friendly}}{ \draw [-{Stealth[inset=0pt,scale=1]}] (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw [-{Stealth[inset=0pt,scale=1]}] (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}\fi},
   movement/.value required,
   feint or dummy/.is if=feintdummy,
   headquarters/.is if=headquarters,
   faction=none,
   main=none,
   upper=none,
   staff comments/.store in=\NATOSymb@symbG,
   additional information/.store in=\NATOSymb@symbH,
   higher formation/.store in=\NATOSymb@symbM,
   evaluation rating/.store in=\NATOSymb@symbJ,
   country indicator/.store in=\NATOSymb@symbAC,
   capacity of installation/.store in=\NATOSymb@symbK,
   installation composition/.store in=\NATOSymb@symbAI,
   unique designation/.store in=\NATOSymb@symbT,
   date-time group/.store in=\NATOSymb@symbW,
   altitude value/.store in=\NATOSymb@symbX,
   location/.store in=\NATOSymb@symbY,
   speed/.store in=\NATOSymb@symbZ,
   headquarters=false,
   feint or dummy=false,
   country indicator=,
   staff comments=,
   additional information=,
   installation composition=,
   higher formation=,
   evaluation rating=,
   unique designation=,
   date-time group=,
   altitude value=,
   location=,
   capacity of installation=,
   speed=,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
\fontfamily{phv}\fontseries{bx}\selectfont
\fontsize{6}{0}\selectfont
\pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
\pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
\pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
\ifheadquarters\ifthenelse{\equal{\NATOSymb@selectedfaction}{friendly}}{
\draw (-0.75, -0.5) -- +(0, -0.25);}{}\fi
\iffeintdummy
\draw [dashed] (M.north west) -- ($(M.north)+(0, 0.5)$) -- (M.north east);
\fi
\ifthenelse{\isequivalentto{\NATOSymb@symbAC}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbAC};}
\ifthenelse{\isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbG};}
\ifthenelse{\isequivalentto{\NATOSymb@symbH}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbH};}
\ifthenelse{\isequivalentto{\NATOSymb@symbM}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbM};}
\ifthenelse{\isequivalentto{\NATOSymb@symbJ}{\empty} \AND \isequivalentto{\NATOSymb@symbK}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbJ\NATOSymb@symbK};}
\ifthenelse{\isequivalentto{\NATOSymb@symbW}{\empty}}{}{\node [anchor=east] at ($(M.north west)!-0.17!(M.south west)$) {\NATOSymb@symbW};}
\ifthenelse{\isequivalentto{\NATOSymb@symbX}{\empty} \AND \isequivalentto{\NATOSymb@symbY}{\empty}}{}{\node [anchor=east] at ($(M.north west)!.17!(M.south west)$) {\NATOSymb@symbX\NATOSymb@symbY};}
\ifthenelse{\isequivalentto{\NATOSymb@symbAI}{\empty}}{}{\node [anchor=east] at (M.west) {\NATOSymb@symbAI};}
\ifthenelse{\isequivalentto{\NATOSymb@symbT}{\empty}}{}{\node [anchor=east] at ($(M.north west)!0.83!(M.south west)$) {\NATOSymb@symbT};}
\ifthenelse{\isequivalentto{\NATOSymb@symbZ}{\empty}}{}{\node [anchor=east] at ($(M.north west)!1.17!(M.south west)$) {\NATOSymb@symbZ};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\NewDocumentCommand\NATOSeaSurface{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=equipment/none, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=equipment/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=equipment/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=equipment/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=equipment/unknown, fill=unknownA},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=},
   main/military/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MIL},
   main/combatant/.style={/NATOSymb/.cd, symbC=seasurface/main/combatant},
   main/surface combatant/.style={/NATOSymb/.cd, symbC=seasurface/main/surface combatant},
   main/carrier/.style={/NATOSymb/.cd, symbC=seasurface/main/carrier},
   main/battleship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=BB},
   main/cruiser guided missile/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CG},
   main/destroyer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=DD},
   main/frigate/.style={/NATOSymb/.cd, symbC=main/text, symbCT=FF},
   main/corvette/.style={/NATOSymb/.cd, symbC=main/text, symbCT=FS},
   main/littoral combatant ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LCS},
   main/amphibious warfare ship/.style={/NATOSymb/.cd, symbC=seasurface/main/amphibious warfare ship},
   main/amphibious command ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LCC},
   main/amphibious assault/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LA},
   main/amphibious assault ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LHA},
   main/multi purpose amphibious assualt ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LHD},
   main/amphibious transport/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LPD},
   main/amphibious assualt ship helicopter/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LPH},
   main/landing ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LS},
   main/landing craft/.style={/NATOSymb/.cd, symbC=main/text, symbCT=LC},
   main/mine warfare vessel/.style={/NATOSymb/.cd, symbC=seasurface/main/mine warfare vessel},
   main/minelayer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ML},
   main/minesweeper/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MS},
   main/minesweeper drone/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MSD},
   main/minehunter/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MH},
   main/mine countermeasure support ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MCS},
   main/mine countermeasures/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MCM},
   main/sea surface decoy/.style={/NATOSymb/.cd, symbC=seasurface/main/sea surface decoy},
   main/patrol/.style={/NATOSymb/.cd, symbC=seasurface/main/patrol},
   main/patrol craft/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PC},
   main/patrol ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PG},
   main/military speedboat/.style={/NATOSymb/.cd, symbC=seasurface/main/military speedboat},
   main/military rigid hull inflatable boat/.style={/NATOSymb/.cd, symbC=seasurface/main/military rigid hull inflatable boat},
   main/military jetski/.style={/NATOSymb/.cd, symbC=seasurface/main/military jetski},
   main/military unmanned surface water vehicle/.style={/NATOSymb/.cd, symbC=multi/main/unmanned systems},
   main/navy task organisation unit/.style={/NATOSymb/.cd, symbC=seasurface/main/navy task organization unit},
   main/navy task force/.style={/NATOSymb/.cd, symbC=seasurface/main/navy task force},
   main/navy task unit/.style={/NATOSymb/.cd, symbC=seasurface/main/navy task unit},
   main/navy task element/.style={/NATOSymb/.cd, symbC=seasurface/main/navy task element},
   main/convoy/.style={/NATOSymb/.cd, symbC=seasurface/main/convoy},
   main/non combatant/.style={/NATOSymb/.cd, symbC=seasurface/main/non combatant},
   main/auxiliary ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AA},
   main/ammunition ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AE},
   main/stores ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AF},
   main/auxiliary flag ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AGF},
   main/intelligence collector/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AGI},
   main/ocean research ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AGO},
   main/survey ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AGS},
   main/hospital ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AH},
   main/naval cargo ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AK},
   main/combat support ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AOE},
   main/oiler/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AOR},
   main/repair ship/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AR},
   main/submarine tender/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AS},
   main/ocean going tug/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AT},
   main/service craft/.style={/NATOSymb/.cd, symbC=main/text, symbCT=YY},
   main/non self propelled barge/.style={/NATOSymb/.cd, symbC=main/text, symbCT=YB},
   main/self propelled barge/.style={/NATOSymb/.cd, symbC=main/text, symbCT=YS},
   main/harbour tug/.style={/NATOSymb/.cd, symbC=main/text, symbCT=YT},
   main/launch/.style={/NATOSymb/.cd, symbC=main/text, symbCT=YFT},
   main/civilian/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CIV},
   main/ship/.style={/NATOSymb/.cd, symbC=seasurface/main/ship},
   main/cargo/.style={/NATOSymb/.cd, symbC=seasurface/main/cargo},
   main/container ship/.style={/NATOSymb/.cd, symbC=seasurface/main/container ship},
   main/dredge/.style={/NATOSymb/.cd, symbC=seasurface/main/dredge},
   main/roll on roll off/.style={/NATOSymb/.cd, symbC=seasurface/main/roll on roll off},
   main/ferry/.style={/NATOSymb/.cd, symbC=seasurface/main/ferry},
   main/heavy lift/.style={/NATOSymb/.cd, symbC=seasurface/main/heavy lift},
   main/hovercraft/.style={/NATOSymb/.cd, symbC=seasurface/main/hovercraft},
   main/lash carrier/.style={/NATOSymb/.cd, symbC=seasurface/main/lash carrier},
   main/tanker/.style={/NATOSymb/.cd, symbC=seasurface/main/tanker},
   main/passenger ship/.style={/NATOSymb/.cd, symbC=seasurface/main/passenger ship},
   main/tug/.style={/NATOSymb/.cd, symbC=seasurface/main/tug},
   main/tow/.style={/NATOSymb/.cd, symbC=seasurface/main/tow},
   main/hazardous material transport ship/.style={/NATOSymb/.cd, symbC=seasurface/main/hazardous material transport ship},
   main/junk/.style={/NATOSymb/.cd, symbC=seasurface/main/junk},
   main/barge/.style={/NATOSymb/.cd, symbC=seasurface/main/barge},
   main/fishing vessel/.style={/NATOSymb/.cd, symbC=seasurface/main/fishing vessel},
   main/drifter/.style={/NATOSymb/.cd, symbC=seasurface/main/drifter},
   main/trawler/.style={/NATOSymb/.cd, symbC=seasurface/main/trawler},
   main/law enforcement vessel/.style={/NATOSymb/.cd, symbC=seasurface/main/law enforcement vessel},
   main/sailing boat/.style={/NATOSymb/.cd, symbC=multi/main/sailing boat},
   main/civilian boat/.style={/NATOSymb/.cd, symbC=seasurface/main/civilian boat},
   main/civilian rigid hull inflatable boat/.style={/NATOSymb/.cd, symbC=seasurface/main/civilian rigid hull inflatable boat},
   main/civilian speedboat/.style={/NATOSymb/.cd, symbC=seasurface/main/civilian speedboat},
   main/civilian jetski/.style={/NATOSymb/.cd, symbC=seasurface/main/civilian jetski},
   main/civilian unmanned surface water vehicle/.style={/NATOSymb/.cd, symbC=multi/main/civilian unmanned systems},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/anti air warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=AAW},
   upper/anti submarine warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ASW},
   upper/escort/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=E},
   upper/electronic warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=EW},
   upper/intelligence surveillance reconnaissance/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ISR},
   upper/mine counter measures/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCM},
   upper/missile defence/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MD},
   upper/medical/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ME},
   upper/mine warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MW},
   upper/remote multi mission vehicle/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=RMV},
   upper/special operations force/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SOF},
   upper/surface warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SUW},
   upper/ballistic missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=B},
   upper/guided missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=G},
   upper/other guided missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=M},
   upper/torpedo/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=T},
   upper/drone equipped/.style={/NATOSymb/.cd, symbU=seasurface/upper/drone equipped},
   upper/helicopter equipped/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=H},
   lower/.is choice,
   lower/none/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/nuclear powered/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N},
   lower/heavy/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=H},
   lower/light/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=L},
   lower/medium/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=M},
   lower/dock/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D},
   lower/logistics/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=LOG},
   lower/tank/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=T},
   lower/vehicle/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=V},
   lower/fast/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=F},
   lower/air cushioned/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=J},
   lower/air cushioned alternate/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=AC},
   lower/hydrofoil/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=K},
   lower/autonomous control/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=AUT},
   lower/remotely piloted/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=RP},
   lower/expendable/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=EXP},
   track number/.store in=\NATOSymb@symbA,
   name/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   identification/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   date-time group/.store in= \NATOSymb@symbG,
   speed leader/.code 2 args={\draw (0,0) -- (##1:##2);},
   speed leader/.value required,
   track number=,
   name=,
   position and movement=,
   identification=,
   additional information=,
   date-time group=,     
   faction=none,
   main=none,
   upper=none,
   lower=none,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
 \pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
 \pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
 \pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
 \fontsize{6}{0}\selectfont
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty} \AND \isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD\NATOSymb@symbG};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\NewDocumentCommand\OwnShip{D(){0,0} d() g}{
\begin{scope}[shift={(#1)}, local bounding box=#2]
\draw [ultra thick, friendlyA] (0, 0) circle (0.5);
\draw [ultra thick, friendlyA] (0.5, 0) -- (-0.5, 0);
\draw [ultra thick, friendlyA] (0, 0.5) -- (0, -0.5);
\end{scope}
 \IfNoValueF{#3}{\node [anchor=west] at (#2.east) {#3};}
}
\NewDocumentCommand\NATOSeaSubsurface{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=seasubsurface/none, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=seasubsurface/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=seasubsurface/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=seasubsurface/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=seasubsurface/unknown, fill=unknownA},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=},
   main/military/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MIL},
   main/submarine/.style={/NATOSymb/.cd, symbC=seasubsurface/main/submarine},
   main/surfaced submarine/.style={/NATOSymb/.cd, symbC=seasubsurface/main/surfaced submarine},
   main/bottomed submarine/.style={/NATOSymb/.cd, symbC=seasubsurface/main/bottomed submarine},
   main/snorkelling submarine/.style={/NATOSymb/.cd, symbC=seasubsurface/main/snorkelling submarine},
   main/other submersible/.style={/NATOSymb/.cd, symbC=seasubsurface/main/other submersible},
   main/autonomous underwater vehicle/.style={/NATOSymb/.cd, symbC=multi/main/unmanned systems},
   main/non submarine/.style={/NATOSymb/.cd, symbC=seasubsurface/main/non submarine},
   main/military diver/.style={/NATOSymb/.cd, symbC=seasubsurface/main/military diver},
   main/civilian/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CIV},
   main/civilian submersible/.style={/NATOSymb/.cd, symbC=seasubsurface/main/civilian submersible},
   main/civilian autonomous underwatervehicle/.style={/NATOSymb/.cd,  symbC=multi/main/civilian unmanned systems},
   main/civilian diver/.style={/NATOSymb/.cd, symbC=multi/main/diver},
   main/underwater weapon/.style={/NATOSymb/.cd, symbC=main/text, symbCT=WPN},
   main/torpedo/.style={/NATOSymb/.cd, symbC=seasubsurface/main/torpedo},
   main/improvised explosive device/.style={/NATOSymb/.cd, symbC=main/text, symbCT=IED},
   main/underwater decoy/.style={/NATOSymb/.cd, symbC=seasubsurface/main/underwater decoy},
   main/sea mine decoy/.style={/NATOSymb/.cd, symbC=seasubsurface/main/sea mine decoy},
   main/bottomed sea mine decoy/.style={/NATOSymb/.cd, symbC=seasubsurface/main/bottomed sea mine decoy},
   main/moored sea mine decoy/.style={/NATOSymb/.cd, symbC=seasubsurface/main/moored sea mine decoy},
   main/unexploded ordnance/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/unexploded ordanance},
   main/military seabed installation/.style={/NATOSymb/.cd, symbC=seasubsurface/main/military seabed installation},
   main/civilian seabed installation/.style={/NATOSymb/.cd, symbC=seasubsurface/main/civilian seabed installation},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/anti submarine warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ASW},
   upper/auxiliary/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=AUX},
   upper/command and control/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=C2},
   upper/intelligence surveillance reconnaissance/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=ISR},
   upper/mine countermeasures/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCM},
   upper/mine warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MW},
   upper/surface warfare/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SUW},
   upper/attack/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=A},
   upper/ballistic missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=B},
   upper/guided missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=G},
   upper/other guided missile/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=M},
   upper/special operations force/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=SOF},
   upper/possible submarine low 1/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=P1},
   upper/possible submarine low 2/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=P2},
   upper/possible submarine high 3/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=P3},
   upper/possible submarine high 4/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=P4},
   upper/probable submarine/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=PB},
   upper/certain submarine/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=CT},
   lower/.is choice,
   lower/none/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/air independent propulsion/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=AI},
   lower/diesel propulsion/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D},
   lower/diesel type 1/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D1},
   lower/diesel type 2/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D2},
   lower/diesel type 3/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=D3},
   lower/nuclear propulsion/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N},
   lower/nuclear type 1/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N1},
   lower/nuclear type 2/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N2},
   lower/nuclear type 3/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N3},
   lower/nuclear type 4/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N4},
   lower/nuclear type 5/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N5},
   lower/nuclear type 6/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N6},
   lower/nuclear type 7/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=N7},
   lower/autonomous control/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=AUT},
   lower/remotely piloted/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=RP},
   lower/expendable/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=EXP},
   track number/.store in=\NATOSymb@symbA,
   name/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   identification/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   date-time group/.store in= \NATOSymb@symbG,
   speed leader/.code 2 args={\draw (0,0) -- (##1:##2);},
   speed leader/.value required,
   track number=,
   name=,
   position and movement=,
   identification=,
   additional information=,
   date-time group=,
   faction=none,     
   main=none,
   upper=none,
   lower=none,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
 \pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
 \pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
 \pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
 \fontsize{6}{0}\selectfont
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty} \AND \isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD\NATOSymb@symbG};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\newif\ifneutralised
\NewDocumentCommand\NATOMine{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=seasubsurface/none, fill=white},
   faction/noframe/.style={/NATOSymb/.cd, shape=main/text, fill=transparent},
   faction/friendly/.style={/NATOSymb/.cd, shape=seasubsurface/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=seasubsurface/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=seasubsurface/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=seasubsurface/unknown, fill=unknownA},
   mine/.is choice,
   mine/normal/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/sea mine},
   mine/bottomed/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/bottomed sea mine},
   mine/moored/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/moored sea mine},
   mine/floating/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/floating sea mine},
   mine/in other position/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/sea mine in other position},
   mine/rising/.style={/NATOSymb/.cd, symbC=seasubsurface/mine/rising sea mine},
   neutralised/.is if=neutralised,
   track number/.store in=\NATOSymb@symbA,
   name/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   identification/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   date-time group/.store in= \NATOSymb@symbG,
   track number=,
   name=,
   position and movement=,
   identification=,
   additional information=,
   date-time group=, 
   faction=none,    
   mine=normal,
   neutralised=false,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
 \ifneutralised
 \pic {NATOSymb \NATOSymb@symbC-neutralised}; %Draw neutralised mine
 \else
 \pic {NATOSymb \NATOSymb@symbC}; %Draw mine
 \fi
 \fontsize{6}{0}\selectfont
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty} \AND \isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD\NATOSymb@symbG};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\NewDocumentCommand\NATOSpace{ o D(){0,0} d() g}{
\tikzset{%
   /NATOSymb/.cd,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=space/none, fill=white},
   faction/friendly/.style={/NATOSymb/.cd, shape=space/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=space/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=space/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=space/unknown, fill=unknownA},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=},
   main/space vehicle/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SV},
   main/reentry vehicle/.style={/NATOSymb/.cd, symbC=main/text, symbCT=RV},
   main/planet lander/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PL},
   main/military orbiter shuttle/.style={/NATOSymb/.cd, symbC=space/main/military orbiter shuttle},
   main/civilian orbiter shuttle/.style={/NATOSymb/.cd, symbC=space/main/civilian orbiter shuttle},
   main/military capsule/.style={/NATOSymb/.cd, symbC=space/main/military capsule},
   main/civilian capsule/.style={/NATOSymb/.cd, symbC=space/main/civilian capsule},
   main/satellite/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SAT},
   main/military satellite/.style={/NATOSymb/.cd, symbC=space/main/military satellite},
   main/civilian satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian satellite},
   main/anti satellite weapon/.style={/NATOSymb/.cd, symbC=space/main/anti satellite weapon},
   main/military astronomical satellite/.style={/NATOSymb/.cd, symbC=space/main/military astronomical satellite},
   main/civilian astronomical satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian astronomical satellite},
   main/military bio satellite/.style={/NATOSymb/.cd, symbC=space/main/military bio satellite},
   main/civilian bio satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian bio satellite},
   main/military communications satellite/.style={/NATOSymb/.cd, symbC=space/main/military communications satellite},
   main/civilian communications satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian communications satellite},
   main/military earth observation satellite/.style={/NATOSymb/.cd, symbC=space/main/military earth observation satellite},
   main/civilian earth observation satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian earth observation satellite},
   main/military minaturised satellite/.style={/NATOSymb/.cd, symbC=space/main/military minaturised satellite},
   main/civilian minaturised satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian minaturised satellite},
   main/military navigational satellite/.style={/NATOSymb/.cd, symbC=space/main/military navigational satellite},
   main/civilian navigational satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian navigational satellite},
   main/reconnaissance satellite/.style={/NATOSymb/.cd, symbC=space/main/reconnaissance satellite},
   main/military space station/.style={/NATOSymb/.cd, symbC=space/main/military space station},
   main/civilian space station/.style={/NATOSymb/.cd, symbC=space/main/civilian space station},
   main/military tether satellite/.style={/NATOSymb/.cd, symbC=space/main/military tether satellite},
   main/civilian tether satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian tether satellite},
   main/military weather satellite/.style={/NATOSymb/.cd, symbC=space/main/military weather satellite},
   main/civilian weather satellite/.style={/NATOSymb/.cd, symbC=space/main/civilian weather satellite},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/low earth orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=LEO},
   upper/medium earth orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MEO},
   upper/high earth orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=HEO},
   upper/geosynchronous orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=GSO},
   upper/geostationary orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=GO},
   upper/molinya orbit/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MO},
   lower/.is choice,
   lower/none/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/optical/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=O},
   lower/infra red/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=IR},
   lower/radar/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=R},
   lower/signals intelligence/.style={/NATOSymb/.cd, symbL=main/textsmall, symbLT=SI},
   track number/.store in=\NATOSymb@symbA,
   name/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   nation/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   speed leader/.code 2 args={\draw (0,0) -- (##1:##2);},
   speed leader/.value required,
   track number=,
   name=,
   position and movement=,
   nation=,
   additional information=,
   faction=none,     
   main=none,
   upper=none,
   lower=none,
   #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
 \pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
 \pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
 \pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
 \fontsize{6}{0}\selectfont
 \ifthenelse{\isequivalentto{\NATOSymb@symbA}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbB}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbD}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbD};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbE}{\empty}}{}{\node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};}
 \ifthenelse{\isequivalentto{\NATOSymb@symbF}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\newif\ifmanmade
\NewDocumentCommand\NATODebris{ o D(){0,0} d() g}{
\tikzset{%
  /NATOSymb/.cd,
  size/.is choice,
  size/small/.style={/NATOSymb/.cd, shape=space/debris/small},
  size/medium/.style={/NATOSymb/.cd, shape=},
  size/large/.style={/NATOSymb/.cd, shape=space/debris/large},
  man made/.is if=manmade,
  size=small,
  man made=false,
  #1,
}%
\begin{scope}[shift={(#2)}, local bounding box=#3]
\draw circle (0.5);
\ifmanmade
\fill circle (0.15);
\else
\draw circle (0.15);
\fi
\pic {NATOSymb \NATOSymb@shape}; %Draw debris modifier  
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\NewDocumentCommand\NATOActivity{ o D(){0,0} d() g}{
\tikzset{
  /NATOSymb/.cd,
   selectedfaction/.store in=\NATOSymb@selectedfaction,
   faction/.is choice,
   faction/none/.style={/NATOSymb/.cd, shape=activity/none, fill=white, selectedfaction=neutral},
   faction/friendly/.style={/NATOSymb/.cd, shape=activity/friendly, fill=friendlyA, selectedfaction=friendly},
   faction/hostile/.style={/NATOSymb/.cd, shape=activity/hostile, fill=hostileA, selectedfaction=hostile},
   faction/neutral/.style={/NATOSymb/.cd, shape=activity/neutral, fill=neutralA, selectedfaction=neutral},
   faction/unknown/.style={/NATOSymb/.cd, shape=activity/unknown, fill=unknownA, selectedfaction=unknown},
   main/.is choice,
   main/none/.style={/NATOSymb/.cd, symbC=main/textsmall, symbCT=},
   main/arrest/.style={/NATOSymb/.cd, symbC=activity/main/arrest},
   main/fire/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=FIRE},  
   main/attempted criminal activity/.style={/NATOSymb/.cd, symbC=multi/main/victim of an attempted crime},
   main/demonstration/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=MASS},   
   main/drive by shooting/.style={/NATOSymb/.cd, symbC=activity/main/drive by shooting},
   main/drug related activites/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=DRUG},  
   main/explosion/.style={/NATOSymb/.cd, symbC=activity/main/explosion},
   main/improvised explosive device explosion/.style={/NATOSymb/.cd, symbC=activity/main/improvised explosive device explosion},
   main/extortion 1/.style={/NATOSymb/.cd, symbC=main/text, symbCT=\$},  
   main/extortion 2/.style={/NATOSymb/.cd, symbC=main/text, symbCT=\pounds},  
   main/extortion 3/.style={/NATOSymb/.cd, symbC=main/text, symbCT=\texteuro},  
   main/extortion 4/.style={/NATOSymb/.cd, symbC=main/text, symbCT=\textyen},
   main/graffiti/.style={/NATOSymb/.cd, symbC=activity/main/graffiti},
   main/killing/.style={/NATOSymb/.cd, symbC=multi/main/killing victim},
   main/patrolling/.style={/NATOSymb/.cd, symbC=activity/main/patrolling},
   main/poisoning/.style={/NATOSymb/.cd, symbC=activity/main/poisoning},
   main/psychological operations/.style={/NATOSymb/.cd, symbC=multi/main/psychological operations},
   main/radio and television psychological operations/.style={/NATOSymb/.cd, symbC=activity/main/radio and television psychological operations},
   main/riot/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=RIOT},
   main/searching/.style={/NATOSymb/.cd, symbC=activity/main/searching},
   main/automobile/.style={/NATOSymb/.cd, symbC=activity/main/automobile},
   main/pleasure craft/.style={/NATOSymb/.cd, symbC=multi/main/sailing boat},
   main/individual/.style={/NATOSymb/.cd, symbC=multi/main/individual},
   upper/.is choice,
   upper/none/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=},
   upper/assassination/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=AS},
   upper/execution/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=EX},
   upper/hijack/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=H},
   upper/house to house/.style={/NATOSymb/.cd, symbU=activity/upper/house to house},
   upper/kidnapping/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=K},
   upper/murder/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=MU},
   upper/piracy/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=PI},
   upper/rape/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=RA},
   upper/written/.style={/NATOSymb/.cd, symbU=main/textsmall, symbUT=W},
   staff comments/.store in=\NATOSymb@symbG,
   additional information/.store in=\NATOSymb@symbH,
   evaluation rating/.store in=\NATOSymb@symbJ,
   country indicator/.store in=\NATOSymb@symbAC,
   date-time group/.store in=\NATOSymb@symbW,
   location/.store in=\NATOSymb@symbY,
   offset/.code 2 args={\begin{scope}[shift={(#2)}]\ifthenelse{\equal{\NATOSymb@drawH}{true}\AND \equal{\NATOSymb@selectedfaction}{friendly}}{\draw (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}},
   offset/.value required,
   movement/.code 2 args={\begin{scope}[shift={(#2)}]\ifthenelse{\equal{\NATOSymb@drawH}{true}\AND \equal{\NATOSymb@selectedfaction}{friendly}}{ \draw [-{Stealth[inset=0pt,scale=1]}] (-0.75, -0.75) -- +($(0, -##1) - (0, -0.75)$) -- +(##2);}{\draw [-{Stealth[inset=0pt,scale=1]}] (0,0)  -- +(0, -##1) -- +(##2);}\end{scope}},
   movement/.value required,
   faction=friendly,
   main=none,
   upper=none,
   staff comments=,
   additional information=,
   evaluation rating=,
   date-time group=,
   location=,
   country indicator=,
  #1,
} %
\begin{scope}[shift={(#2)}, local bounding box=#3]
\fontfamily{phv}\fontseries{bx}\selectfont
\pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape
\pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
\pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
\fontsize{6}{0}\selectfont
\ifthenelse{\isequivalentto{\NATOSymb@symbAC}{\empty}}{}{\node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbAC};}
\ifthenelse{\isequivalentto{\NATOSymb@symbG}{\empty}}{}{\node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbG};}
\ifthenelse{\isequivalentto{\NATOSymb@symbH}{\empty}}{}{\node [anchor=west] at (M.east) {\NATOSymb@symbH};}
\ifthenelse{\isequivalentto{\NATOSymb@symbJ}{\empty}}{}{\node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbJ};}
\ifthenelse{\isequivalentto{\NATOSymb@symbW}{\empty}}{}{\node [anchor=east] at ($(M.north west)!-0.17!(M.south west)$) {\NATOSymb@symbW};}
\ifthenelse{\isequivalentto{\NATOSymb@symbY}{\empty}}{}{\node [anchor=east] at ($(M.north west)!.17!(M.south west)$) {\NATOSymb@symbY};}
\end{scope}
 \IfNoValueF{#4}{\node [anchor=west] at (#3.east) {#4};}
}
\endinput