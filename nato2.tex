\documentclass[tikz,border=5pt]{standalone}
\makeatletter
\usepackage[T1]{fontenc}
\usepackage{fix-cm}
\definecolor{friendlyA}{RGB}{128, 224, 255}
\definecolor{hostileA}{RGB}{255, 128, 128}
\definecolor{neutralA}{RGB}{170, 255, 170}
\definecolor{unknownA}{RGB}{255, 255, 128}
\usetikzlibrary{shapes.geometric, positioning, calc}
\tikzstyle{reverseclip}=[insert path={(current bounding box.north east) --
  (current bounding box.south east) --
  (current bounding box.south west) --
  (current bounding box.north west) --
  (current bounding box.north east)}
]
\tikzset{
NATOSymb air/friendly/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (-0.555, -0.5) arc (180:0:0.555 and 1.37);},
NATOSymb air/hostile/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0.5, -0.5) -- (0.5, 0.21) -- (0, 0.71) --  (-0.5, 0.21) --  (-0.5, -0.5);},
NATOSymb air/neutral/.pic={
\draw [fill=NATOSymb@fill, \NATOSymb@line] (0.5, -0.5) -- (0.5, 0.5) -- (-0.5, 0.5) -- (-0.5, -0.5);},
NATOSymb air/unknown/.pic={
\fill [fill=NATOSymb@fill] (315:0.5) -- (45:0.5) -- (135:0.5) -- (225:0.5) -- cycle;
\draw [fill=NATOSymb@fill, \NATOSymb@line] (315:0.5) arc (-90:90: 0.354);
\begin{scope}[rotate=90]
	\draw [fill=NATOSymb@fill, \NATOSymb@line] (315:0.5) arc (-90:90: 0.354);
\end{scope}
\begin{scope}[rotate=180]
	\draw [fill=NATOSymb@fill, \NATOSymb@line] (315:0.5) arc (-90:90: 0.354);
\end{scope}},
NATOSymb air/main/military/.pic={
\node at (0,0) {MIL};},
NATOSymb air/main/civilian/.pic={
\node at (0,0) {CIV};},
NATOSymb air/main/military fixed wing/.pic={
\fill (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\begin{scope}[xscale=-1]
\fill (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\end{scope}},
NATOSymb air/main/civilian fixed wing/.pic={
\draw (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\begin{scope}[xscale=-1]
\draw (-0.36,0.125) arc (77:275:0.075 and 0.125) -- (0,0) -- cycle;
\end{scope}},
NATOSymb air/main/military rotary wing/.pic={
\fill (0.44, 0.15) -- (0.44, -0.15) -- (-0.44, 0.15) -- (-0.44, -0.15) -- cycle;},
NATOSymb air/main/civilian rotary wing/.pic={
\draw (0.44, 0.15) -- (0.44, -0.15) -- (-0.44, 0.15) -- (-0.44, -0.15) -- cycle;},
NATOSymb air/main/military balloon/.pic={
\fill (0, 0.025) circle (0.175);
\fill (-0.05, 0) -- (-0.05,-0.2) -- (0.05, -0.2) -- (0.05,0) -- cycle;},
NATOSymb air/main/civilian balloon/.pic={
\draw (0, 0.025) circle (0.175);
\begin{scope}
\clip (0, 0.025) circle (0.175) [reverseclip];
	\draw (-0.05, 0) -- (-0.05,-0.2) -- (0.05, -0.2) -- (0.05,0) -- cycle;
\end{scope}},
NATOSymb air/main/military airship/.pic={
\fill (0, 0) ellipse (0.45 and 0.15);
\fill (0.2, 0) -- (0.3, 0.175) -- (0.4,0.175) -- (0.375,0) -- (0.4,-0.175) -- (0.3, -0.175) -- cycle;},
NATOSymb air/main/civilian airship/.pic={
\draw (0, 0) ellipse (0.45 and 0.15);
\begin{scope}
\clip (0, 0) ellipse (0.45 and 0.15) [reverseclip];
	\draw (0.2, 0) -- (0.3, 0.175) -- (0.4,0.175) -- (0.375,0) -- (0.4,-0.175) -- (0.3, -0.175) -- cycle;
\end{scope}},
NATOSymb air/main/uav/.pic={
\fill (0, -0.1) -- (0.45, 0.05) -- (0.45,0.1) -- (0, 0.025) -- (-0.45, 0.1) -- (-0.45, 0.05) -- cycle;},
NATOSymb air/main/air decoy/.pic={
\fill (0.42, -0.2) -- (0.42, -0.175) --  (-0.42, -0.175) --  (-0.42, -0.2) -- cycle;
\begin{scope}[shift={(-0.18,0)}]
	\fill (-0.24, 0.025) -- (-0.0, 0.2) -- (-0.0, -0.15) -- cycle;
\end{scope}
\begin{scope}[shift={(0.12,0)}]
	\fill (-0.24, 0.025) -- (-0.0, 0.2) -- (-0.0, -0.15) -- cycle;
\end{scope}
\begin{scope}[shift={(0.42,0)}]
	\fill (-0.24, 0.025) -- (-0.0, 0.2) -- (-0.0, -0.15) -- cycle;
\end{scope};},
NATOSymb air/main/medic/.pic={
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\begin{scope}[rotate=90]
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\end{scope}},
NATOSymb air/upper/medic/.pic={
\begin{scope}[scale=0.7]
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\begin{scope}[rotate=90]
\fill (-0.075, -0.2) -- (0.075, -0.2) -- (0.075, 0.2) -- (-0.075, 0.2) -- cycle;
\end{scope}
\end{scope}},
NATOSymb main/text/.pic={
\fontsize{10}{0}\selectfont
\node at (0,0) {#1};},
NATOSymb main/textsquashed/.pic={
\fontsize{10}{0}\selectfont
\node at (0,0) [xscale=0.7] {#1};},
NATOSymb main/textsmall/.pic={
\fontsize{6}{0}\selectfont
\node at (0,0) {#1};},
NATOSymb main/textsmallsquashed/.pic={
\fontsize{6}{0}\selectfont
\node at (0,0) [xscale=0.7] {#1};},
/NATOSymb/.search also={/tikz},
/NATOSymb/.cd,
fill/.code={\colorlet{NATOSymb@fill}{#1}},
speed leader/.code 2 args={\draw (0,0) -- (#1:#2);},
speed leader/.value required,
line/.store in= \NATOSymb@line,
shape/.store in=\NATOSymb@shape,
symbC/.store in=\NATOSymb@symbC,
symbCT/.store in=\NATOSymb@symbCT,
symbU/.store in=\NATOSymb@symbU,
symbUT/.store in=\NATOSymb@symbUT,
symbL/.store in=\NATOSymb@symbL,
symbLT/.store in=\NATOSymb@symbLT,
monochrome/.style={/NATOSymb/fill=white},
unclear/.style={/NATOSymb/line=densely dotted},
fill=gray,
line=solid,
}
\newcommand{\NATOAir}[1][]{
\tikzset{%	
   /NATOSymb/.cd,
   faction/.is choice,
   faction/friendly/.style={/NATOSymb/.cd, shape=air/friendly, fill=friendlyA},
   faction/hostile/.style={/NATOSymb/.cd, shape=air/hostile, fill=hostileA},
   faction/neutral/.style={/NATOSymb/.cd, shape=air/neutral, fill=neutralA},
   faction/unknown/.style={/NATOSymb/.cd, shape=air/unknown, fill=unknownA},
   main/.is choice,
   main/military/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MIL},
   main/civilian/.style={/NATOSymb/.cd, symbC=main/text, symbCT=CIV},
   main/military fixed wing/.style={/NATOSymb/.cd, symbC=air/main/military fixed wing},
   main/civilian fixed wing/.style={/NATOSymb/.cd, symbC=air/main/civilian fixed wing},
   main/military rotary wing/.style={/NATOSymb/.cd, symbC=air/main/military rotary wing},
   main/civilian rotary wing/.style={/NATOSymb/.cd, symbC=air/main/civilian rotary wing},
   main/military balloon/.style={/NATOSymb/.cd, symbC=air/main/military balloon},
   main/civilian balloon/.style={/NATOSymb/.cd, symbC=air/main/civilian balloon},
   main/military airship/.style={/NATOSymb/.cd, symbC=air/main/military airship},
   main/civilian airship/.style={/NATOSymb/.cd, symbC=air/main/civilian airship},
   main/unmanned aerial vehicle/.style={/NATOSymb/.cd, symbC=air/main/uav},
   main/air decoy/.style={/NATOSymb/.cd, symbC=air/main/air decoy},
   main/medic/.style={/NATOSymb/.cd, symbC=air/main/medic},
   main/attack/.style={/NATOSymb/.cd, symbC=main/text, symbCT=A},
   main/bomber/.style={/NATOSymb/.cd, symbC=main/text, symbCT=B},
   main/cargo/.style={/NATOSymb/.cd, symbC=main/text, symbCT=C},
   main/fighter/.style={/NATOSymb/.cd, symbC=main/text, symbCT=F},
   main/jammer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=J},
   main/tanker/.style={/NATOSymb/.cd, symbC=main/text, symbCT=K},
   main/patrol/.style={/NATOSymb/.cd, symbC=main/text, symbCT=P},
   main/reconnaissance/.style={/NATOSymb/.cd, symbC=main/text, symbCT=R},
   main/trainer/.style={/NATOSymb/.cd, symbC=main/text, symbCT=T},
   main/utility/.style={/NATOSymb/.cd, symbC=main/text, symbCT=U},
   main/vertical short takeoff and landing/.style={/NATOSymb/.cd, symbC=main/text, symbCT=V},
   main/airborne command post/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ACP},
   main/airborne early warning/.style={/NATOSymb/.cd, symbC=main/text, symbCT=AEW},
   main/anti surface warfare/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=ASUW},
   main/anti submarine warfare/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ASW},
   main/communications/.style={/NATOSymb/.cd, symbC=main/text, symbCT=COM},
   main/combat search and rescue/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=CSAR},
   main/electronic support measures/.style={/NATOSymb/.cd, symbC=main/text, symbCT=ESM},
   main/government/.style={/NATOSymb/.cd, symbC=main/text, symbCT=GOV},
   main/mine countermeasures/.style={/NATOSymb/.cd, symbC=main/text, symbCT=MCM},
   main/personnel recovery/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PR},
   main/passenger/.style={/NATOSymb/.cd, symbC=main/text, symbCT=PX},
   main/search and rescue/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SAR},
   main/suppression of enemy air defence/.style={/NATOSymb/.cd, symbC=main/textsquashed, symbCT=SEAD},
   main/special operations forces/.style={/NATOSymb/.cd, symbC=main/text, symbCT=SOF},
   main/ultra light/.style={/NATOSymb/.cd, symbC=main/text, symbCT=UL},
   main/very important person/.style={/NATOSymb/.cd, symbC=main/text, symbCT=VIP},
   upper/.is choice,
   upper/none/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=}, 
   upper/medical evacuation/.style= {/NATOSymb/.cd, symbU=air/upper/medic},
   upper/cargo/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=C}, 
   upper/jammer/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=J},
   upper/tanker/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=K},
   upper/patrol/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=J}, 
   upper/reconnaissance/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=P}, 
   upper/jammer/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=R}, 
   upper/trainer/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=T}, 
   upper/utility/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=U}, 
   upper/airborne command post/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=ACP}, 
   upper/airborne early warning/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=AEW},
   upper/anti surface warfare/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=ASUW},    
   upper/anti submarine warfare/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=ASW}, 
   upper/communications/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=COM},   
   upper/combat search and rescue/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=CSAR}, 
   upper/electronic support measures/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=ESM},   
   upper/government flight/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=GOV},   
   upper/mine countermeasures/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=MCM},   
   upper/personnel recovery/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=PR},   
   upper/passenger plane/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=PX},
   upper/search and rescue/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SAR},        
   upper/suppression of enemy air defenses/.style= {/NATOSymb/.cd, symbU=main/textsmallsquashed, symbUT=SEAD},
   upper/special operations forces/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=SOF},       
   upper/ultra light/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=UL},   
   upper/photographic/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=PH},   
   upper/very important person/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=VIP},  
   upper/escort/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=E},
   upper/intensive care/.style= {/NATOSymb/.cd, symbU=main/textsmall, symbUT=IC},
   lower/.is choice,
   lower/none/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=},
   lower/light/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=L},      
   lower/medium/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=M},    
   lower/heavy/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=H},    
   lower/boom only/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=B},    
   lower/drogue only/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=D},
   lower/boom and drogue/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=B/D}, 
   lower/close range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=CR},      
   lower/short range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=SR},     
   lower/medium range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=MR},
   lower/long range/.style= {/NATOSymb/.cd, symbL=main/textsmall, symbLT=LR},
   track number/.store in= \NATOSymb@symbA,
   call sign/.store in=\NATOSymb@symbB,
   position and movement/.store in=\NATOSymb@symbD,
   nation/.store in= \NATOSymb@symbE,
   additional information/.store in=\NATOSymb@symbF,
   track number=,
   call sign=,
   position and movement=,
   nation=,
   additional information=,     
   main=military,
   upper=none,
   lower=none,
   #1,
 }%
 \fontfamily{phv}\fontseries{bx}\selectfont
 \pic [local bounding box=M] {NATOSymb \NATOSymb@shape}; %Draw background shape

%\draw[gray] (0:0.5) -- (45:0.5) -- (90:0.5) -- (135:0.5) -- (180:0.5) -- (225:0.5) -- (270:0.5) -- (315:0.5) -- cycle; %DEBUG - symbol template
%\begin{scope}
%\clip (0:0.5) -- (45:0.5) -- (90:0.5) -- (135:0.5) -- (180:0.5) -- (225:0.5) -- (270:0.5) -- (315:0.5) -- cycle;
%	\draw[gray] (0.5, 0.2) -- (-0.5, 0.2);
%	\draw[gray] (0.5, -0.2) -- (-0.5, -0.2);
%\end{scope}

 \pic {NATOSymb \NATOSymb@symbC={\NATOSymb@symbCT}}; %Draw main symbol
 \pic at (0,0.34) {NATOSymb \NATOSymb@symbU={\NATOSymb@symbUT}}; %Draw upper symbol
 \pic at (0,-0.34) {NATOSymb \NATOSymb@symbL={\NATOSymb@symbLT}}; %Draw lower symbol
 \fontsize{6}{0}\selectfont
 \node [anchor=west] at ($(M.north east)!-0.17!(M.south east)$) {\NATOSymb@symbA};
 \node [anchor=west] at ($(M.north east)!.17!(M.south east)$) {\NATOSymb@symbB};
 \node [anchor=west] at (M.east) {\NATOSymb@symbD};
 \node [anchor=west] at ($(M.north east)!0.83!(M.south east)$) {\NATOSymb@symbE};
 \node [anchor=west] at ($(M.north east)!1.17!(M.south east)$) {\NATOSymb@symbF};

\begin{scope}
\end{scope}
}
\makeatother
\begin{document}


\begin{tikzpicture}
\NATOAir[faction=hostile, unclear, main=military fixed wing, upper=search and rescue, lower=heavy, track number=TN 177, call sign=CZ178, position and movement=277/16, nation=MUM, additional information=CHEESE]
\end{tikzpicture}

\end{document}
